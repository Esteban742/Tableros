(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o=n(1),s=n.n(o),d=n(38),l=n.n(d),b=n(43),m=n(23),j=n(2),h=n(3);const g=e=>Object(h.a)(a||(a=Object(j.a)(["\n    @media only screen and (max-width: 600px){\n        ","\n    }\n    "])),e),p=e=>Object(h.a)(r||(r=Object(j.a)(["\n    @media only screen and (max-width: 768px){\n        ","\n    }\n    "])),e),u=e=>Object(h.a)(i||(i=Object(j.a)(["\n    @media only screen and (max-width: 992px){\n        ","\n    }\n    "])),e),x=e=>Object(h.a)(c||(c=Object(j.a)(["\n    @media only screen and (max-width: 1200px){\n        ","\n    }\n    "])),e);n.p;var O,f,v,w,k=n(0);h.b.nav(O||(O=Object(j.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background-color: transparent;\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  z-index: 100;\n\n  ","\n"])),x({justifyContent:"space-between"})),h.b.img(f||(f=Object(j.a)(["\n  margin-left: 2rem;\n   margin-top: 3rem;\n  width: 240px;   /* Ajusta el ancho que quieras */\n  height: auto;   /* Mantiene la proporci\xf3n de la imagen */\n\n  ","\n"])),x({marginLeft:"0",width:"240px"})),h.b.div(v||(v=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),h.b.button(w||(w=Object(j.a)(["\n  background-color: #ffa420;\n  border-radius: 0.4rem;\n  margin-right: 3rem;\n  margin-top: 3rem; \n  padding: 0.8rem 2rem;\n  color: white;\n  border: none;\n  cursor: pointer;  \n  &:hover {\n    background-color:rgb(48, 2, 2);\n  }\n"])));var y,C,I,S,z,D,M,_,L;h.b.div(y||(y=Object(j.a)(["\n  background: linear-gradient( #333c87, #333c87) no-repeat;\n  color: rgb(9, 30, 66);\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  color: #091e42;\n"]))),h.b.section(C||(C=Object(j.a)(["\n  display: flex;\n  min-height: 100vh;\n  padding-top: 4rem;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 10%;\n\n  ","\n"])),x({flexDirection:"column-reverse",paddingTop:"6rem",alignItems:"stretch",gap:"5%"})),h.b.div(I||(I=Object(j.a)(["\n  box-sizing: border-box;\n  flex: 1;\n"]))),h.b.div(S||(S=Object(j.a)(["\n  width: 39rem;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  ","\n"])),p({width:"19rem",alignItems:"center"})),h.b.h1(z||(z=Object(j.a)(['\n  font-size: 3rem;\n  font-family: "Charlie Text", sans-serif;\n  color: #f6f3f0;\n  font-weight: 600;\n  ',"\n"])),p({fontSize:"1.5rem",textAlign:"center"})),h.b.h3(D||(D=Object(j.a)(['\n  margin-top: 0.5rem;\n  color:#f6f3f0; \n  font-family: "Charlie Text", sans-serif;\n  font-size: 1.3rem;\n  text-align: left;\n  line-height: 1.5;\n  ',"\n"])),p({fontSize:"1rem",textAlign:"center",padding:"0px, 3rem"})),h.b.button(M||(M=Object(j.a)(["\n  margin-top: 2rem;\n  font-size: 1.25rem;\n  background-color: #ffa420;\n  width: fit-content;\n  border-radius: 0.4rem;\n  padding: 0.75rem 2rem;\n  color: white;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    background-color:rgb(48, 2, 2);\n  }\n\n  ","\n"])),x({marginTop:"1.5rem",width:"100%"})),h.b.div(_||(_=Object(j.a)(["\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  ","\n"])),x({maxHeight:"300px"})),h.b.img(L||(L=Object(j.a)(["\n  width: 400.5px;\n  aspect-ratio: auto 465.5 / 602.5;\n  height: 540.5px;\n\n  ","\n"])),x({width:"300px",height:"272px"}));var T=n(6),A=n(7),F=n(319),E=n(35);const B={userInfo:null,isAuthenticated:null,pending:!0,loading:!1,token:localStorage.getItem("token")},N=Object(E.b)({name:"user",initialState:B,reducers:{registrationStart:e=>{e.pending=!0},registrationEnd:e=>{e.pending=!1},loginStart:e=>{e.pending=!0},loginSuccess:(e,t)=>{e.pending=!1,e.isAuthenticated=!0,e.userInfo=t.payload.user,e.token=t.payload.user.token,localStorage.setItem("token",t.payload.user.token)},loginFailure:e=>{e.pending=!1,e.isAuthenticated=!1,localStorage.removeItem("token")},loadStart:e=>{e.pending=!0},loadSuccess:(e,t)=>{e.isAuthenticated=!0,e.userInfo=t.payload.user,e.token=localStorage.getItem("token"),e.pending=!1},loadFailure:e=>{e.pending=!1},logout:e=>{e.isAuthenticated=!1,e.userInfo=null,e.token=null,localStorage.removeItem("token")},fetchingStart:e=>{e.loading=!0},fetchingFinish:e=>{e.loading=!1},addNewBoard:(e,t)=>{e.userInfo.boards.unshift(t.payload)}}}),{registrationStart:P,registrationEnd:Y,loginStart:R,loginFailure:H,loginSuccess:U,loadStart:q,loadSuccess:W,loadFailure:J,logout:Q,fetchingStart:G,fetchingFinish:V,addNewBoard:K}=N.actions;var X=N.reducer;const Z={open:!1,severity:"error",message:"",duration:3e3,nextRoute:null},$=Object(E.b)({name:"alert",initialState:Z,reducers:{openAlert:(e,t)=>{e.open=!0,e.message=t.payload.message,e.severity=t.payload.severity,e.duration=t.payload.duration?t.payload.duration:Z.duration,e.nextRoute=t.payload.nextRoute?t.payload.nextRoute:null},closeAlert:e=>{e.open=!1}}}),{openAlert:ee,closeAlert:te}=$.actions;var ne=$.reducer;var ae=e=>{e?F.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete F.a.defaults.headers.common.Authorization};const re="https://trello-clone-mern-ggrz.onrender.com/user/",ie=async(e,t)=>{if(t(G()),!e)return t(ee({message:"Please write an email to invite",severity:"warning"})),t(V()),null;const n=localStorage.getItem("token");n&&ae(n);try{const n=await F.a.post("".concat(re,"get-user-with-email"),{email:e});return t(V()),n.data}catch(i){var a,r;return t(ee({message:(null===i||void 0===i||null===(a=i.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.errMessage)||i.message,severity:"error"})),t(V()),null}};var ce,oe,se,de,le=n.p+"static/media/trello-left.19574ab7.svg",be=n.p+"static/media/trello-right.eb491713.svg";const me=h.b.div(ce||(ce=Object(j.a)(["\n  background-color: #333c87;\n  height: 100vh;\n  width: 100%;\n  position: fixed;\n  z-index: -900;\n"]))),je=h.b.div(oe||(oe=Object(j.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: -999;\n  width: 30vw;\n  max-width: 400px;\n"]))),he=h.b.div(se||(se=Object(j.a)(["\nposition: absolute;\n    bottom: 0;\n    right: 0;\n    z-index: -999;\n    width: 30vw;\n    max-width: 400px;\n"]))),ge=h.b.img(de||(de=Object(j.a)(["\n\nvertical-align: middle;\nwidth: 100%;\nheight: 100%;\n"])));var pe,ue,xe,Oe,fe,ve,we,ke,ye,Ce,Ie,Se,ze=()=>Object(k.jsxs)(me,{children:[Object(k.jsx)(je,{children:Object(k.jsx)(ge,{src:le})}),Object(k.jsx)(he,{children:Object(k.jsx)(ge,{src:be})})]});const De=h.b.div(pe||(pe=Object(j.a)(["\n  display: initial;\n  ","\n"])),u({display:"none"})),Me=h.b.div(ue||(ue=Object(j.a)(["\n  width: 100%;\n  height: 100vh;\n  ","\n"])),u({backgroundColor:"#F9FAFC"})),_e=h.b.div(xe||(xe=Object(j.a)(["\n  cursor: pointer;\n  padding-top: 2.5rem;\n  ","\n"])),u({paddingTop:"1rem"})),Le=h.b.img(Oe||(Oe=Object(j.a)(["\n  display: block;\n  height: 2.6rem;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 2.5rem;\n  width: 240px;   /* ajusta el tama\xf1o deseado */\n  height: auto;   /* mantiene la proporci\xf3n */\n  ","\n"])),u({marginBottom:"1rem"})),Te=h.b.section(fe||(fe=Object(j.a)(["\n  display: block;\n  word-wrap: break-word;\n"]))),Ae=h.b.div(ve||(ve=Object(j.a)(["\n  box-sizing: border-box;\n  display: block;\n  max-width: 400px;\n  width: fit-content;\n  margin: 0 auto;\n  position: relative;\n  background-color:rgb(48, 3, 3);\n  border-radius: 30px;\n  padding: 1.5rem 2.5rem;\n  box-shadow: rgb(0 0 0 / 10%) 0 0 10px;\n\n  ","\n"])),u({maxWidth:"100%",width:"100%",boxShadow:"none",backgroundColor:"#F9FAFC",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"0.5rem 1rem"})),Fe=h.b.form(we||(we=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 20rem;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  ","\n"])),u({gap:"0.7rem"})),Ee=h.b.h1(ke||(ke=Object(j.a)(["\n  color:rgb(221, 226, 234);\n  font-size: 1rem;\n  padding: 1rem;\n"]))),Be=h.b.input(ye||(ye=Object(j.a)(["\n  width: 100%;\n  outline: none;\n  font-size: 0.85rem;\n  border-radius: 0.2rem;\n  padding: 0.6rem;\n  border: 1px solid #dfe1e6;\n  background-color: #fafbfc;\n  &:focus {\n    transition: background-color 0.2s ease-in-out 0s,\n      border-color 0.2s ease-in-out 0s;\n    border: 2px solid #68bcff;\n  }\n"]))),Ne=h.b.button(Ce||(Ce=Object(j.a)(["\n  background-color: #131078;\n  width: 100%;\n  border-radius: 0.4rem;\n  padding: 0.5rem 1rem;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-weight: bold;\n  &:hover {\n    background: linear-gradient(to bottom, #ffa420, #ffa420 100%);\n  }\n"]))),Pe=h.b.hr(Ie||(Ie=Object(j.a)(["\n  width: 100%;\n  display: block;\n  height: 2px;\n  border: 0;\n  border-top: 1px solid #ffa420;\n  margin: 0.5 0;\n  padding: 0;\n"]))),Ye=h.b.a(Se||(Se=Object(j.a)(["\n  text-decoration: none;\n  color:rgb(221, 226, 234);\n  cursor: pointer;\n  font-size: ",";\n  &:hover {\n    color: #0052cc;\n  }\n"])),e=>e.fontSize);var Re,He,Ue,qe,We,Je,Qe,Ge,Ve,Ke,Xe,Ze,$e,et=()=>{let e=Object(m.g)();const t=Object(A.c)(),[n,a]=Object(o.useState)({email:"",password:""});Object(o.useEffect)(()=>{document.title="Iniciar Sesi\xf3n"},[]);const r=e=>{e.preventDefault(),(async(e,t)=>{let{email:n,password:a}=e;t(R());try{const e=await F.a.post("".concat(re,"login"),{email:n,password:a}),{user:r,message:i}=e.data;localStorage.setItem("token",r.token),ae(r.token),t(U({user:r})),t(ee({message:i,severity:"success",nextRoute:"/boards"}))}catch(c){var r,i;t(H()),t(ee({message:(null===c||void 0===c||null===(r=c.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errMessage)||c.message,severity:"error"}))}})(n,t)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(De,{children:Object(k.jsx)(ze,{})}),Object(k.jsxs)(Me,{children:[Object(k.jsx)(_e,{onClick:()=>e.push("/"),children:Object(k.jsx)(Le,{src:"https://i.postimg.cc/6Qj1y8hB/logok.png"})}),Object(k.jsx)(Te,{children:Object(k.jsx)(Ae,{children:Object(k.jsxs)(Fe,{onSubmit:e=>r(e),children:[Object(k.jsx)(Ee,{children:"Iniciar Sesi\xf3n"}),Object(k.jsx)(Be,{type:"email",placeholder:"Correo Electronico",required:!0,value:n.email,onChange:e=>a(Object(T.a)(Object(T.a)({},n),{},{email:e.target.value}))}),Object(k.jsx)(Be,{type:"password",placeholder:"Contrase\xf1a",required:!0,value:n.password,onChange:e=>a(Object(T.a)(Object(T.a)({},n),{},{password:e.target.value}))}),Object(k.jsx)(Ne,{children:"Ingresar"}),Object(k.jsx)(Pe,{}),Object(k.jsx)(Ye,{fontSize:"0.85rem",onClick:()=>e.push("/register"),children:"Ya tienes una cuenta? Iniciar Sesi\xf3n"})]})})})]})]})};const tt=h.b.div(Re||(Re=Object(j.a)(["\n  display: initial;\n  ","\n"])),u({display:"none"})),nt=h.b.div(He||(He=Object(j.a)(["\n  width: 100%;\n  height: 100vh;\n  ","\n"])),u({backgroundColor:"#F9FAFC"})),at=h.b.div(Ue||(Ue=Object(j.a)(["\n  cursor: pointer;\n  padding-top: 2.5rem;\n  ","\n"])),u({paddingTop:"1rem"})),rt=h.b.img(qe||(qe=Object(j.a)(["\n  display: block;\n  height: 2.6rem;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 2.5rem;\n  width: 240px;   /* ajusta el tama\xf1o deseado */\n  height: auto;   /* mantiene la proporci\xf3n */\n  ","\n"])),u({marginBottom:"1rem"})),it=h.b.section(We||(We=Object(j.a)(["\n  display: block;\n  word-wrap: break-word;\n"]))),ct=h.b.div(Je||(Je=Object(j.a)(["\n  box-sizing: border-box;\n  display: block;\n  max-width: 400px;\n  width: fit-content;\n  margin: 0 auto;\n  position: relative;\n  background-color:rgb(48, 3, 3);\n  border-radius: 30px;\n  padding: 1.5rem 2.5rem;\n  box-shadow: rgb(0 0 0 / 10%) 0 0 10px;\n\n  ","\n"])),u({maxWidth:"100%",width:"100%",boxShadow:"none",backgroundColor:"#F9FAFC",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",padding:"0.5rem 1rem"})),ot=h.b.form(Qe||(Qe=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 20rem;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  ","\n"])),u({gap:"0.7rem"})),st=h.b.h1(Ge||(Ge=Object(j.a)(["\n  color:rgb(221, 226, 234);\n  font-size: 1rem;\n  padding: 1rem;\n"]))),dt=h.b.input(Ve||(Ve=Object(j.a)(["\n  width: 100%;\n  outline: none;\n  font-size: 0.85rem;\n  border-radius: 0.2rem;\n  padding: 0.6rem;\n  border: 2px solid #dfe1e6;\n  background-color: #fafbfc;\n  &:focus {\n    transition: background-color 0.2s ease-in-out 0s,\n      border-color 0.2s ease-in-out 0s;\n    border: 2px solid #68bcff;\n  }\n"]))),lt=h.b.button(Ke||(Ke=Object(j.a)(["\n  background-color:rgb(57, 50, 173);\n  width: 100%;\n  border-radius: 0.4rem;\n  padding: 0.5rem 1rem;\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-weight: bold;\n  &:hover {\n    background: ",";\n  }\n  &:disabled {\n    background-color: lightgray;\n    cursor: default;\n  }\n"])),e=>e.disabled?"lightgrey":"linear-gradient(to bottom, #ffa420 0%, #ffa420 100%)"),bt=h.b.hr(Xe||(Xe=Object(j.a)(["\n  width: 100%;\n  display: block;\n  height: 2px;\n  border: 0;\n  border-top: 1px solid #ffa420;\n  margin: 0.5 0;\n  padding: 0;\n"]))),mt=(h.b.p(Ze||(Ze=Object(j.a)(["\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color:rgb(221, 226, 234);\n"]))),h.b.a($e||($e=Object(j.a)(["\n  text-decoration: none;\n  color:rgb(221, 226, 234);\n  cursor: pointer;\n  font-size: ",";\n  &:hover {\n    color: #0052cc;\n  }\n"])),e=>e.fontSize));var jt,ht=()=>{let e=Object(m.g)();const t=Object(A.c)(),{pending:n}=Object(A.d)(e=>e.user),[a,r]=Object(o.useState)({name:"",surname:"",email:"",password:"",repassword:""});Object(o.useEffect)(()=>{document.title="Registrar Nuevo Usuario"},[]);const i=async e=>{e.preventDefault(),await(async(e,t)=>{if(t(P()),e.password!==e.repassword)return t(ee({message:"Passwords do not match!",severity:"error"})),void t(Y());try{const n=await F.a.post("".concat(re,"register"),e);t(ee({message:n.data.message,severity:"success",nextRoute:"/login",duration:1500}))}catch(r){var n,a;t(ee({message:(null===r||void 0===r||null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errMessage)||r.message,severity:"error"}))}t(Y())})(a,t)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(tt,{children:Object(k.jsx)(ze,{})}),Object(k.jsxs)(nt,{children:[Object(k.jsx)(at,{onClick:()=>e.push("/"),children:Object(k.jsx)(rt,{src:"https://i.postimg.cc/6Qj1y8hB/logok.png"})}),Object(k.jsx)(it,{children:Object(k.jsx)(ct,{children:Object(k.jsxs)(ot,{onSubmit:e=>i(e),children:[Object(k.jsx)(st,{children:"Registrarse"}),Object(k.jsx)(dt,{type:"text",placeholder:"Nombre",required:!0,value:a.name,onChange:e=>r(Object(T.a)(Object(T.a)({},a),{},{name:e.target.value}))}),Object(k.jsx)(dt,{type:"text",placeholder:"Apellido",required:!0,value:a.surname,onChange:e=>r(Object(T.a)(Object(T.a)({},a),{},{surname:e.target.value}))}),Object(k.jsx)(dt,{type:"email",placeholder:"Correo Electronico",required:!0,value:a.email,onChange:e=>r(Object(T.a)(Object(T.a)({},a),{},{email:e.target.value}))}),Object(k.jsx)(dt,{type:"password",placeholder:"Contrase\xf1a",required:!0,value:a.password,onChange:e=>r(Object(T.a)(Object(T.a)({},a),{},{password:e.target.value}))}),Object(k.jsx)(dt,{type:"password",placeholder:"Confirmar Contrase\xf1a",required:!0,value:a.repassword,onChange:e=>r(Object(T.a)(Object(T.a)({},a),{},{repassword:e.target.value}))}),Object(k.jsx)(lt,{type:"submit",disabled:n,children:"Registrar"}),Object(k.jsx)(bt,{}),Object(k.jsx)(mt,{fontSize:"0.85rem",onClick:()=>e.push("/login"),children:"Ya tienes una cuenta? Iniciar Sesi\xf3n"})]})})})]})]})},gt=n(328);const pt=h.b.img(jt||(jt=Object(j.a)(["\n\twidth: 25vw;\n"])));function ut(){const[e]=o.useState(!0);return Object(k.jsx)("div",{children:Object(k.jsx)(gt.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:e,children:Object(k.jsx)(pt,{src:"https://i.postimg.cc/6Qj1y8hB/logok.png"})})})}const xt={boardsData:{},pending:!0,backgroundImages:["https://images.unsplash.com/photo-1636471815144-616b00e21f24","https://images.unsplash.com/photo-1636467455675-46b5552af493","https://images.unsplash.com/photo-1636412911203-4065623b94fc","https://images.unsplash.com/photo-1636408807362-a6195d3dd4de","https://images.unsplash.com/photo-1603932743786-9a069a74e632","https://images.unsplash.com/photo-1636207608470-dfedb46c2380","https://images.unsplash.com/photo-1603932978744-e09fcf98ac00","https://images.unsplash.com/photo-1636207543865-acf3ad382295","https://images.unsplash.com/photo-1597244211919-8a52ab2e40ea"],smallPostfix:"?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=Mnw3MDY2fDB8MXxjb2xsZWN0aW9ufDJ8MzE3MDk5fHx8fHwyfHwxNjM2NjUzNDgz&ixlib=rb-1.2.1&q=80&w=400",creating:!1},Ot=Object(E.b)({name:"boards",initialState:xt,reducers:{startFetchingBoards:e=>{e.pending=!0},successFetchingBoards:(e,t)=>{e.boardsData=t.payload.boards,e.pending=!1},failFetchingBoards:e=>{e.pending=!1},startCreatingBoard:e=>{e.creating=!0},successCreatingBoard:(e,t)=>{e.boardsData.push(t.payload),e.creating=!1},failCreatingBoard:e=>{e.creating=!0},reset:e=>{0}}}),{startFetchingBoards:ft,successFetchingBoards:vt,failFetchingBoards:wt,startCreatingBoard:kt,successCreatingBoard:yt,failCreatingBoard:Ct,reset:It}=Ot.actions;var St=Ot.reducer;const zt=Object(E.b)({name:"board",initialState:{id:"",title:"",backgroundImageLink:"",isImage:!0,lists:[],members:[],activity:[],loading:!0,description:"",activityLoading:!1},reducers:{setLoading:(e,t)=>{e.loading=t.payload},successFetchingBoard:(e,t)=>{e.id=t.payload._id,e.title=t.payload.title,e.backgroundImageLink=t.payload.backgroundImageLink,e.isImage=t.payload.isImage,e.lists=t.payload.lists,e.members=t.payload.members,e.activity=t.payload.activity,e.description=t.payload.description},updateTitle:(e,t)=>{e.title=t.payload},setActivityLoading:(e,t)=>{e.activityLoading=t.payload},updateActivity:(e,t)=>{e.activity=t.payload},updateDescription:(e,t)=>{e.description=t.payload},updateBackground:(e,t)=>{const{background:n,isImage:a}=t.payload;e.backgroundImageLink=n,e.isImage=a},addMembers:(e,t)=>{e.members=t.payload}}}),{setLoading:Dt,successFetchingBoard:Mt,updateTitle:_t,setActivityLoading:Lt,updateActivity:Tt,updateDescription:At,updateBackground:Ft,addMembers:Et}=zt.actions;var Bt=zt.reducer;const Nt="http://localhost:3001/board",Pt=async(e,t)=>{e||t(ft());try{const e=await F.a.get(Nt+"/");setTimeout(()=>{t(vt({boards:e.data}))},1e3)}catch(r){var n,a;t(wt()),t(ee({message:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errMessage?r.response.data.errMessage:r.message,severity:"error"}))}};var Yt,Rt,Ht=n(326),Ut=n(324),qt=n(329),Wt=n(14),Jt=n(109),Qt=n.n(Jt),Gt=n.p+"static/media/cardLoading.ed0cf596.svg";const Vt=Object(Wt.a)(Ht.a)({boxShadow:"none",textTransform:"none",gap:"0.25rem",padding:"0.25rem 0.5rem",color:"white",backgroundColor:"transparent",border:"none",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"},"&:active":{backgroundColor:"rgba(255, 255, 255, 0.2)"}}),Kt=h.b.div(Yt||(Yt=Object(j.a)(["\n\theight: 3rem;\n\twidth: 8rem;\n\tpadding: 0.5rem 3rem;\n\tbackground-image: url(",");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n"])),e=>e.image),Xt=h.b.span(Rt||(Rt=Object(j.a)(["\nfont-size: 0.85rem;\ndisplay:block;\n"]))),Zt=Object(Wt.a)(Qt.a)({display:"block",fontSize:"1.3rem"});function $t(e){const t=Object(A.d)(e=>e.boards.boardsData),n=Object(m.g)(),a=Object(A.c)(),[r,i]=o.useState(null),[c,s]=o.useState(!1),d=Boolean(r);return Object(k.jsxs)("div",{children:[Object(k.jsxs)(Vt,{id:"demo-positioned-button","aria-controls":"demo-positioned-menu","aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:async e=>{i(e.currentTarget),s(!0),await Pt(!0,a),s(!1)},children:[Object(k.jsx)(Xt,{children:e.title}),Object(k.jsx)(Xt,{children:Object(k.jsx)(Zt,{})})]}),Object.keys(t).length>0&&Object(k.jsx)(Ut.a,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:r,open:d,onClose:()=>{i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:c?Object(k.jsx)(Kt,{image:Gt}):t.map(e=>Object(k.jsx)(qt.a,{onClick:()=>{i(null),n.push("/board/"+e._id)},children:Object(k.jsx)(Xt,{children:e.title})},e._id))})]})}var en,tn,nn,an,rn,cn,on,sn,dn=n.p+"static/media/search-icon.654836c1.svg";const ln=h.b.div(en||(en=Object(j.a)(["\n  display: flex;\n  flex-direction: row; /* cambia a column si quieres que queden uno arriba del otro */\n  gap: 0.5rem;\n  align-items: center;\n"]))),bn=h.b.div(tn||(tn=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  gap: 0.3rem;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.3);\n  height: 2rem;\n  box-sizing: border-box;\n  border-radius: 3px;\n  border: 1px solid rgba(255, 255, 255, 0.25);\n  padding: 0.1rem 0.5rem;\n  color: white;\n  width: 15rem;\n  min-width: 6rem;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.4);\n  }\n\n  ","\n  ","\n"])),p({width:"10rem"}),g({width:"26.8vw"})),mn=h.b.input(nn||(nn=Object(j.a)(["\n  box-sizing: content-box;\n  font-size: 0.85rem;\n  border: none;\n  color: white;\n  background-color: transparent;\n  outline: none;\n  height: 1rem;\n  overflow: hidden;\n\n  &::placeholder {\n    color: white;\n  }\n\n  &:focus {\n    font-weight: 600;\n    &::placeholder {\n      color: transparent;\n    }\n  }\n"]))),jn=h.b.img(an||(an=Object(j.a)(["\n  width: 24px;\n  height: 24px;\n  ","\n"])),g({width:"20px",height:"20px"})),hn=h.b.div(rn||(rn=Object(j.a)(["\n  position: relative;\n  width: 12rem;\n"]))),gn=h.b.button(cn||(cn=Object(j.a)(["\n  width: 100%;\n  height: 2rem;\n  background: rgba(255, 255, 255, 0.3);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.25);\n  border-radius: 3px;\n  cursor: pointer;\n  text-align: left;\n  padding: 0 0.5rem;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.4);\n  }\n"]))),pn=h.b.ul(on||(on=Object(j.a)(["\n  position: absolute;\n  top: 2.2rem;\n  left: 0;\n  width: 100%;\n  background: #333c87;\n  border-radius: 3px;\n  border: 1px solid rgba(255, 255, 255, 0.25);\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  z-index: 10;\n"]))),un=h.b.li(sn||(sn=Object(j.a)(["\n  padding: 0.5rem;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    background: #f4a020; /* Aqu\xed s\xed cambia el hover */\n  }\n"])));var xn,On,fn,vn,wn,kn,yn=e=>{var t;const{searchString:n,setSearchString:a,memberFilter:r,setMemberFilter:i}=e,c=Object(A.d)(e=>e.board.members||[]),[s,d]=Object(o.useState)(!1);return Object(k.jsxs)(ln,{children:[Object(k.jsxs)(bn,{children:[Object(k.jsx)(jn,{src:dn}),Object(k.jsx)(mn,{placeholder:"Buscar...",value:n,onChange:e=>a(e.target.value)})]}),Object(k.jsxs)(hn,{children:[Object(k.jsx)(gn,{onClick:()=>d(!s),children:r?null===(t=c.find(e=>e.user===r))||void 0===t?void 0:t.name:"Todos"}),s&&Object(k.jsxs)(pn,{children:[Object(k.jsx)(un,{onClick:()=>{i(null),d(!1)},children:"Todos"}),c.map(e=>Object(k.jsx)(un,{onClick:()=>{i(e.user),d(!1)},children:e.name},e.user))]})]})]})},Cn=n(332),In=n(333),Sn=n(316),zn=n(337),Dn=n(318),Mn=n(170),_n=n.n(Mn);function Ln(){const[e,t]=o.useState(null),n=Object(A.c)(),a=Boolean(e),r=Object(A.d)(e=>e.user.userInfo.name),i=Object(A.d)(e=>e.user.userInfo.color),c=()=>{t(null)};return Object(k.jsxs)(o.Fragment,{children:[Object(k.jsx)(Cn.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(k.jsx)(Dn.a,{title:"Logout",children:Object(k.jsx)(zn.a,{onClick:e=>{t(e.currentTarget)},size:"small",sx:{ml:2},children:Object(k.jsx)(In.a,{sx:{width:32,height:32,bgcolor:i,fontSize:"0.875rem",fontWeight:"800"},children:r[0]})})})}),Object(k.jsx)(Ut.a,{anchorEl:e,open:a,onClose:c,onClick:c,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(k.jsxs)(qt.a,{onClick:()=>{n(It),n(Q())},children:[Object(k.jsx)(Sn.a,{children:Object(k.jsx)(_n.a,{fontSize:"small"})}),"Salir"]})})]})}const Tn=h.b.div(xn||(xn=Object(j.a)(["\n\theight: 3rem;\n\twidth: 100%;\n\tbackground-color: #333c87;\n\tbackdrop-filter: blur(24px);\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0.5rem 1rem;\n\tgap: 0.5rem;\n\t","\n"])),g({padding:"0.5rem, 0rem"})),An=h.b.div(On||(On=Object(j.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tgap: 1rem;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-start;\n\t","\n"])),g({gap:"0.1rem",width:"fit-content"})),Fn=h.b.div(fn||(fn=Object(j.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-end;\n"]))),En=h.b.div(vn||(vn=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n"]))),Bn=h.b.img(wn||(wn=Object(j.a)(["\n\twidth: 105px;\n\theight: 35px;\n\tcursor: pointer;\n"]))),Nn=h.b.div(kn||(kn=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-start;\n\t","\n"])),g({display:"none"}));var Pn,Yn,Rn,Hn,Un,qn=e=>{const t=Object(m.g)();return Object(k.jsxs)(Tn,{children:[Object(k.jsxs)(An,{children:[Object(k.jsx)(En,{children:Object(k.jsx)(Bn,{onClick:()=>{t.push("/boards")},src:"https://i.postimg.cc/6Qj1y8hB/logok.png",width:"300px",height:"auto"})}),Object(k.jsx)(Nn,{children:Object(k.jsx)($t,{title:"Tus tableros"})})]}),Object(k.jsxs)(Fn,{children:[Object(k.jsx)(yn,{searchString:e.searchString,setSearchString:e.setSearchString,memberFilter:e.memberFilter,setMemberFilter:e.setMemberFilter}),Object(k.jsx)(Ln,{})]})]})};const Wn=h.b.div(Pn||(Pn=Object(j.a)(["\n\tbackground-image: url('https://i.postimg.cc/2Sv3t8fj/nano-banana-2025-09-11-T23-42-13.png');\n\tbackground-position: 50%;\n\tbackground-size: cover;\n\theight: 100vh;\n\twidth: 100vw;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n"]))),Jn=h.b.h1(Yn||(Yn=Object(j.a)(["\n\tcursor: default;\n\tfont-weight: 400;\n\tfont-size: 1.5rem;\n\ttext-align: center;\n\twidth: 100vw;\n\tmargin-bottom: 1rem;\n\tcolor: lightblue;\n\ttext-shadow: 3px 0px 7px rgba(81, 67, 21, 0.8), -3px 0px 7px rgba(81, 67, 21, 0.8),\n\t\t0px 4px 7px rgba(81, 67, 21, 0.8);\n\tuser-select: none;\n"]))),Qn=h.b.div(Rn||(Rn=Object(j.a)(["\n\tmargin-top: 3.1rem;\n\twidth: 100%;\n\theight: calc(100vh - 3.1rem);\n\tpadding: 1rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-wrap: wrap;\n\talign-content: flex-start;\n\toverflow-y: auto;\n"]))),Gn=h.b.div(Hn||(Hn=Object(j.a)(["\n\tcolor: white;\n\tpadding: 0.6rem;\n\tmargin: 0 0.8rem 1rem 0.8rem;\n\twidth: 200px;\n\theight: 120px;\n\tborder-radius: 5px;\n\t","\n\n\tbackground-position: center center;\n\tbackground-size: cover;\n\t-webkit-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n\t-moz-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n\tbox-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n\topacity: 88%;\n\tcursor: pointer;\n\twill-change: opacity;\n\ttransition: opacity 450ms;\n\t&:hover {\n\t\topacity: 100%;\n\t\ttransition: opacity 150ms;\n\t\tfont-weight: 600;\n\t}\n"])),e=>e.isImage?"background-image: url("+e.link+");":"background-color: "+e.link+";"),Vn=Object(h.b)(Gn)(Un||(Un=Object(j.a)(["\n\tbackground-color: transparent;\n\tbackground-image: linear-gradient(to right, #0b486b 0%, #f56217 51%, #0b486b 100%);\n\tfont-size: 1.2rem;\n\ttransition: 2s;\n\topacity: 65%;\n\tbackground-size: 200% auto;\n\tcolor: white;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttext-decoration: none;\n\tfont-weight: 600;\n\t&:hover {\n\t\tbackground-position: right center;\n\t\tcolor: #fff;\n\t\ttransition: 400ms ease-in;\n\t}\n"])));var Kn,Xn,Zn,$n,ea,ta,na,aa,ra,ia,ca,oa,sa,da,la,ba,ma,ja,ha,ga=n(325);const pa=h.b.div(Kn||(Kn=Object(j.a)(["\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 3rem;\n  display: flex;\n  justify-content: flex-start;\n  width: fit-content;\n  gap: 0.5rem;\n  flex-direction: column;\n  padding: 0px, 0.5rem;\n  outline: none;\n"]))),ua=h.b.div(Xn||(Xn=Object(j.a)(["\n  display: flex;\n  width: 25.25rem;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: center;\n  gap: 0.5rem;\n  ","\n"])),g({width:"18.5rem",flexDirection:"column",alignItems:"center"})),xa=h.b.div(Zn||(Zn=Object(j.a)(["\n  min-width: 18.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n"]))),Oa=h.b.div($n||($n=Object(j.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: center center;\n  border-radius: 3px;\n  -webkit-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n  -moz-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n  box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n"])),e=>e.link),fa=h.b.div(ea||(ea=Object(j.a)(["\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.3);\n  position: relative;\n  width: 100%;\n  height: 6rem;\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  justify-content: space-around;\n"]))),va=h.b.input(ta||(ta=Object(j.a)(["\n  width: 90%;\n  color: white;\n  padding: 0.2rem 0.3rem;\n  border-radius: 3px;\n  outline: none;\n  border: none;\n  background-color: rgba(255, 255, 255, 0);\n  transition: 150ms linear;\n  font-weight: 700;\n  &::placeholder {\n    font-weight: 700;\n    color: rgba(244, 244, 244, 0.7);\n  }\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n"]))),wa=h.b.div(na||(na=Object(j.a)(["\n  display: flex;\n  width: 90%;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.1rem;\n"]))),ka=h.b.div(aa||(aa=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  border-radius: 3px;\n  padding-left: 0.4rem;\n  background-color: rgba(255, 255, 255, 0);\n  transition: 150ms linear;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n"]))),ya=h.b.div(ra||(ra=Object(j.a)(["\n  color: #cdcdcd;\n  display: flex;\n  align-items: center;\n  margin-bottom: 2px;\n"]))),Ca=h.b.input(ia||(ia=Object(j.a)(["\n  width: 81.5%;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  color: white;\n  margin-top: 1px;\n  padding: 0.2rem 0.3rem;\n  font-weight: 600;\n  font-size: 0.9rem;\n\n  &::placeholder {\n    color: #cdcdcd;\n  }\n"]))),Ia=h.b.div(ca||(ca=Object(j.a)(["\n  color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n  height: 100%;\n  width: 1.7rem;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: 150ms ease-out;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.15);\n    color: rgba(255, 255, 255, 1);\n  }\n  &:active {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"]))),Sa=h.b.div(oa||(oa=Object(j.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin-top: 0.5rem;\n  margin-right: 0.5rem;\n  height: 1.3rem;\n  color: rgba(255, 255, 255, 0.7);\n  cursor: pointer;\n  transition: 150ms linear;\n  &:hover {\n    color: rgba(255, 255, 255, 0.6);\n  }\n  &:active {\n    color: rgba(255, 255, 255, 1);\n  }\n"]))),za=h.b.button(sa||(sa=Object(j.a)(["\n  width: 35%;\n  font-weight: 500;\n  padding: 0.4rem;\n  border: none;\n  border-radius: 0.25rem;\n  color: white;\n  font-size: 0.9rem;\n  cursor: pointer;\n  background-color: #2099df;\n  transition: 100ms linear;\n  -webkit-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n  -moz-box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n  box-shadow: rgba(0, 0, 0, 0.3) 0 1px 3px;\n  &:hover {\n    background-color: #1089cf;\n  }\n  &:active {\n    background-color: #0079bf;\n  }\n  &:disabled {\n    cursor: not-allowed;\n    background-color: rgba(128, 128, 128, 1);\n    color: rgba(200, 200, 200, 0.5);\n  }\n"]))),Da=(h.b.div(da||(da=Object(j.a)([""]))),h.b.div(la||(la=Object(j.a)(["\n  width: 100%;\n  min-height: 96px;\n  max-width: 18.5rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 9px;\n  ","\n"])),g({alignItems:"center",justifyContent:"center",gap:"0.5rem"}))),Ma=h.b.div(ba||(ba=Object(j.a)(["\n  background-image: url(",");\n  border: none;\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 3px;\n  background-position: center center;\n  background-size: cover;\n  ","\n"])),e=>e.link,g({width:"3rem",height:"3rem",margin:"0"})),_a=h.b.div(ma||(ma=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n  background-color: ",";\n  cursor: pointer;\n  transition: 150ms ease-in;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n"])),e=>e.show?"rgba(0,0,0,0.8)":"rgba(255,255,255,0.0)"),La=h.b.div(ja||(ja=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 3px;\n  display: ",";\n  justify-content: center;\n  align-items: center;\n  color: white;\n"])),e=>e.show?"flex":"none"),Ta=h.b.div(ha||(ha=Object(j.a)(["\n  background: rgba(0, 0, 0, 0.3);\n  padding: 0 0.5rem 0.5rem 0.5rem;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 0.2rem;\n"])));var Aa=n(171),Fa=n.n(Aa);var Ea=e=>{const{link:t,selectedLink:n,callback:a}=e;return Object(k.jsx)(Ma,{link:t,onClick:()=>a(t),children:Object(k.jsx)(_a,{show:n===t,children:Object(k.jsx)(La,{show:n===t,children:Object(k.jsx)(Fa.a,{fontSize:"0.1rem"})})})})},Ba=n(172),Na=n.n(Ba),Pa=n(173),Ya=n.n(Pa),Ra=n(74),Ha=n.n(Ra),Ua=n(334),qa=n(320),Wa=n(317);const Ja=Object(qa.a)({root:{maxWidth:"8rem",opacity:"70%"}});var Qa=e=>{const{name:t,surname:n,email:a,callback:r}=e,i=Ja();return Object(k.jsx)(Dn.a,{TransitionComponent:Wa.a,title:"".concat(t," ").concat(n),size:"small",placement:"top",arrow:!0,children:Object(k.jsx)(Ua.a,{className:i.root,onDelete:()=>r(a),avatar:Object(k.jsx)(In.a,{children:t.toString()[0]}),label:t,size:"small",color:"secondary"})})};var Ga=e=>{const t=Object(A.c)(),{updateback:n,link:a}=e,[r,i]=Object(o.useState)(""),[c,s]=Object(o.useState)([]),[d,l]=Object(o.useState)("");Object(o.useEffect)(()=>{n({title:d,backgroundImageLink:a,members:c})},[n,d,c,a]);const b=e=>{const t=c.filter(t=>t.email!==e);s([...t])};return Object(k.jsx)(xa,{children:Object(k.jsxs)(Oa,{link:e.link,children:[Object(k.jsxs)(fa,{children:[Object(k.jsx)(va,{placeholder:"Add board title",value:d,onChange:e=>l(e.target.value)}),Object(k.jsxs)(wa,{children:[Object(k.jsxs)(ka,{children:[Object(k.jsx)(ya,{children:Object(k.jsx)(Na.a,{fontSize:"small"})}),Object(k.jsx)(Ca,{placeholder:"Invite to board with email",value:r,type:"email",onChange:e=>i(e.target.value)})]}),Object(k.jsx)(Ia,{onClick:()=>(async()=>{const e=await ie(r,t);null!=e&&(c.filter(t=>t.email===e.email).length>0||s([...c,e]))})(),children:Object(k.jsx)(Ha.a,{fontSize:"small"})})]}),Object(k.jsx)(Sa,{children:Object(k.jsx)(Ya.a,{fontSize:"1rem",onClick:()=>e.callback()})})]}),Object(k.jsx)(Ta,{children:c.map(e=>Object(k.jsx)(Qa,Object(T.a)({callback:b},e),e.email))})]})})};function Va(e){const t=Object(A.c)(),n=Object(A.d)(e=>e.boards.creating),{backgroundImages:a,smallPostfix:r}=Object(A.d)(e=>e.boards),[i,c]=o.useState(!0),[s,d]=o.useState(a[0]+r);let l={};const b=async()=>{await(async(e,t)=>{if(t(kt()),!e.title||!e.backgroundImageLink)return t(Ct()),void t(ee({message:"Please enter a title for board!",severity:"warning"}));try{const n=await F.a.post(Nt+"/create",e);t(K(n.data)),t(yt(n.data)),t(ee({message:"".concat(n.data.title," board has been successfully created"),severity:"success"}))}catch(r){var n,a;t(Ct()),t(ee({message:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errMessage?r.response.data.errMessage:r.message,severity:"error"}))}})(l,t),e.callback(),d(a[0]+r)},m=e=>{d(e)},j=()=>{c(!1),e.callback()};return Object(k.jsxs)("div",{style:{position:"relative"},children:[n&&Object(k.jsx)(ut,{}),Object(k.jsx)(ga.a,{open:i,onClose:j,disableEnforceFocus:!0,children:Object(k.jsxs)(pa,{children:[Object(k.jsxs)(ua,{children:[Object(k.jsx)(Ga,{link:s,updateback:e=>{l=Object(T.a)({},e)},callback:j}),Object(k.jsx)(Da,{children:a.map((e,t)=>Object(k.jsx)(Ea,{selectedLink:s,link:e+r,callback:m},t))})]}),Object(k.jsx)(za,{onClick:()=>b(),children:"Create Board"})]})})]})}var Ka,Xa,Za,$a,er,tr,nr=()=>{const e=Object(A.c)(),t=Object(m.g)(),{pending:n,boardsData:a}=Object(A.d)(e=>e.boards),[r,i]=Object(o.useState)(!1),[c,s]=Object(o.useState)("");return Object(o.useEffect)(()=>{Pt(!1,e)},[e]),Object(o.useEffect)(()=>{document.title="Tableros"},[]),Object(k.jsxs)(k.Fragment,{children:[n&&Object(k.jsx)(ut,{}),Object(k.jsxs)(Wn,{children:[Object(k.jsx)(qn,{searchString:c,setSearchString:s}),Object(k.jsxs)(Qn,{children:[Object(k.jsx)(Jn,{children:"Tus Tableros"}),!n&&a.length>0&&a.filter(e=>!c||e.title.toLowerCase().includes(c.toLowerCase())).map(e=>Object(k.jsx)(Gn,{link:e.backgroundImageLink,isImage:e.isImage,id:e._id,onClick:e=>(e=>{t.push("/board/".concat(e.target.id))})(e),children:e.title},e._id)),!n&&Object(k.jsx)(Vn,{onClick:()=>i(!0),children:"Crear nuevo tablero"}),r&&Object(k.jsx)(Va,{callback:()=>{i(!1)}})]})]})]})};const ar=h.b.div(Ka||(Ka=Object(j.a)(["\n\theight: 52px;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: space-between;\n\tpadding: 0rem 1rem;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\tgap: 0.3rem;\n\n\t","\n"])),g({gap:"0.1rem"})),rr=h.b.div(Xa||(Xa=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex: 3;\n\twidth: 75%;\n\talign-items: center;\n\tjustify-content: flex-start;\n\theight: 100%;\n\tgap: 1rem;\n"]))),ir=h.b.div(Za||(Za=Object(j.a)(["\n\tdisplay: flex;\n\tflex: 1;\n\theight: 100%;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-end;\n"]))),cr=h.b.button($a||($a=Object(j.a)(["\n\tdisplay: flex;\n\tborder: none;\n\theight: 2rem;\n\tcolor: white;\n\tpadding: 0rem 1rem;\n\talign-items: center;\n\tgap: 0.5rem;\n\tborder-radius: 3px;\n\tbackground-color: #0079bf;\n\tcursor: pointer;\n\ttransition: 250ms ease;\n\t&:hover {\n\t\tbackground-color: #00599f;\n\t}\n"]))),or=h.b.span(er||(er=Object(j.a)(["\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\t","\n"])),g({display:"none"})),sr=h.b.input(tr||(tr=Object(j.a)(["\n\theight: 1.75rem;\n\tbackground-color: rgba(255, 255, 255, 0.25);\n\tborder: none;\n\tborder-radius: 1px;\n\tfont-size: 1.1rem;\n\ttext-align: center;\n\tmin-width: 6.5rem;\n\tmax-width: 10rem;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\twidth: ",";\n\tfont-weight: 600;\n\tcolor: white;\n\toutline: 2px solid rgba(255, 255, 255, 0.25);\n\ttransition: 250ms ease;\n\tcursor: pointer;\n\t&:focus {\n\t\tbackground-color: white;\n\t\toutline: 2px solid #0079bf;\n\t\tcolor: black;\n\t\tcursor: text;\n\t}\n\t&:focus:hover {\n\t\tbackground-color: white;\n\t\toutline: 2px solid #0079bf;\n\t\tcolor: black;\n\t\tcursor: text;\n\t}\n\t&:hover {\n\t\tbackground-color: rgba(255, 255, 255, 0.5);\n\t\toutline: 2px solid rgba(255, 255, 255, 0.5);\n\t}\n\t&::placeholder {\n\t\tcolor: #d0d0d0;\n\t}\n\n\t","\n"])),e=>.75*e.value.length+"rem",g({maxWidth:"8rem"}));var dr,lr,br,mr=n(176),jr=n.n(mr),hr=n(114),gr=n.n(hr);const pr=h.b.span(dr||(dr=Object(j.a)(["\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n"]))),ur=h.b.button(lr||(lr=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: rgba(255, 255, 255, 0.25);\n\tborder: none;\n\tcolor: white;\n\theight: 2rem;\n\tgap: 0.3rem;\n\tpadding: 0rem 0.7rem;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\ttransition: 250ms ease;\n\t&:hover {\n\t\tbackground-color: rgba(255, 255, 255, 0.5);\n\t}\n"]))),xr=h.b.div(br||(br=Object(j.a)(["\n\tcolor: ",";\n\tbackground-color: rgba(255, 255, 255, 0);\n\twidth: 1.5rem;\n\theight: 1.5rem;\n\tcursor: pointer;\n\ttransition: 150ms ease-in;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n"])),e=>e.color);var Or,fr,vr,wr,kr,yr,Cr,Ir=n(335);const Sr=h.b.div(Or||(Or=Object(j.a)(["\ndisplay: flex;\nflex-direction: column;\npadding: 0.3rem 0.5rem 1rem 0.5rem;\nalign-items:center;\njustify-content: flex-start;\n"]))),zr=h.b.div(fr||(fr=Object(j.a)(["\ndisplay:flex;\npadding: 0.5rem 0rem;\nflex-direction:row;\nwidth: 100%;\njustify-content:space-between;\nalign-items:center;\n"]))),Dr=h.b.div(vr||(vr=Object(j.a)(["\nwidth: fit-content;\nheight:fit-content;\ndisplay:flex;\nalign-items:center;\njustify-content:center;\ncursor:pointer;\ncolor: #42526e;\ntransition: 150ms ease-in;\n&:hover{\n    color:#091e42;\n}\n\n"]))),Mr=h.b.p(wr||(wr=Object(j.a)(["\nmargin:0;\npadding:0;\nfont-size: 1rem;\nfont-weight: 600;\nmargin-top: 0.1rem;\n"]))),_r=h.b.div(kr||(kr=Object(j.a)(["\ndisplay:flex;\nalign-items:center;\njustify-content:center;\ntransition: 150ms ease-in;\ncursor:pointer;\ncolor: #42526e;\n&:hover{\n    color:#091e42;\n}\n"]))),Lr=h.b.hr(yr||(yr=Object(j.a)(["\nwidth:100%;\nborder:none;\nborder-bottom: 1px solid rgba(0,0,0,0.15);\nborder-radius: 3px;\n"]))),Tr=h.b.div(Cr||(Cr=Object(j.a)(["\noverflow-x:hidden;\noverflow-y:auto;\nwidth:100%;\n"])));var Ar=n(110),Fr=n.n(Ar),Er=n(56),Br=n.n(Er);var Nr,Pr,Yr,Rr,Hr,Ur,qr,Wr,Jr,Qr,Gr,Vr,Kr=e=>{const[t,n]=Object(o.useState)(!1);Object(o.useEffect)(()=>{e.show&&n(!0)},[e.show]);const a=t=>a=>{"keydown"!==a.type&&(n(t),e.closeCallback(t))};return Object(k.jsx)("div",{children:Object(k.jsx)(Ir.a,{anchor:"right",open:t,onClose:a(!1),children:Object(k.jsx)(Cn.a,{sx:{width:320},role:"presentation",onKeyDown:a(!1),backgroundColor:"#f4f5f7",height:"100vh",children:Object(k.jsxs)(Sr,{children:[Object(k.jsxs)(zr,{children:[Object(k.jsx)(Dr,{style:{visibility:e.showBackIcon?"visible":"hidden"},onClick:e.backClickCallback,children:Object(k.jsx)(Fr.a,{fontSize:"1rem"})}),Object(k.jsx)(Mr,{children:e.title}),Object(k.jsx)(_r,{onClick:()=>{n(!1),e.closeCallback(!1)},children:Object(k.jsx)(Br.a,{fontSize:"small"})})]}),Object(k.jsx)(Lr,{}),Object(k.jsx)(Tr,{children:e.content})]})})})})};const Xr=h.b.div(Nr||(Nr=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\ngap:1.5rem;\n"]))),Zr=h.b.div(Pr||(Pr=Object(j.a)(["\nwidth:100%;\nheight:fit-content;\ndisplay:flex;\nflex-direction: column;\n"]))),$r=h.b.div(Yr||(Yr=Object(j.a)(["\nwidth:100%;\nheight:fit-content;\ndisplay:flex;\nflex-direction:row;\ngap:0.5rem;\nalign-items:center;\njustify-content:flex-start;\n"]))),ei=h.b.div(Rr||(Rr=Object(j.a)(["\nfont-size:1.75rem;\ncolor:#42526e;\n"]))),ti=h.b.div(Hr||(Hr=Object(j.a)(["\nwidth:100%;\nheight:1.75rem;\nfont-weight:800;\nfont-size:1rem;\ncolor:#172b4d;\n"]))),ni=h.b.div(Ur||(Ur=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:row;\nalign-items:center;\njustify-content:flex-start;\ngap:0.5rem;\n"]))),ai=h.b.div(qr||(qr=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\njustify-content:center;\n"]))),ri=h.b.div(Wr||(Wr=Object(j.a)(["\nwidth:100%;\nfont-size:1rem;\nfont-weight:800;\nword-wrap:break-word;\ncolor:#172b4d;\n"]))),ii=h.b.div(Jr||(Jr=Object(j.a)(["\nwidth:100%;\nfont-size:0.875rem;\nword-wrap:break-break-word;\ncolor:#5e6c84;\n"]))),ci=h.b.div(Qr||(Qr=Object(j.a)(["\nwidth:100%;\npadding:0rem 0.2rem;\n"]))),oi=h.b.textarea(Gr||(Gr=Object(j.a)(["\nwidth:100%;\nresize:none;\nborder-radius:3px;\nfont-size:0.875rem;\nmin-height:",";\n",";\npadding: ",";\nborder:none;\noverflow:hidden;\nline-height: 1.25rem; \nbackground-color:",";\n",";\noutline-color: transparent;\ncursor: pointer;\n&:hover{\n    background-color: ",";\n}\n&::placeholder{\n    ",";\n    \n}\n&:focus{\n    padding:0.5rem;\n    background-color:white;\n    outline-color: #0079bf;\n    cursor: text;\n    &::placeholder{\n        color: #C7CCD4;\n    }\n}\n"])),e=>e.value?"1.5rem":"5rem",e=>!e.focused&&"max-height: "+e.textHeight+"px",e=>e.value?"0rem":"0.5rem",e=>e.focused?"#fff":e.value?"transparent":"rgba(0,0,0,0.045)",e=>e.focused&&"padding: 0.5rem",e=>e.value?"transparent":"rgba(0,0,0,0.065)",e=>!e.focused&&"color: #000"),si=h.b.div(Vr||(Vr=Object(j.a)(["\nvisibility: hidden;\nposition: absolute;\nz-index: 123;\nword-wrap:break-word;\nwidth:280px;\ntop:0;\nleft:0;\n"])));var di,li,bi,mi=n(111),ji=n.n(mi),hi=n(112),gi=n.n(hi);const pi=h.b.div(di||(di=Object(j.a)(["\ndisplay:flex;\nflex-direction:row;\nalign-items: center;\njustify-content: flex-start;\nwidth: 100%;\ngap:0.3rem;\ncolor: #6a6a6a;\n"]))),ui=Object(h.b)(cr)(li||(li=Object(j.a)(["\ndisplay:inline;\nwidth: 6rem;\nmargin-left: -2px;\n"]))),xi=h.b.div(bi||(bi=Object(j.a)(["    \n    display: flex;\n    align-items: center;\n    cursor:pointer;\n    &:hover{\n        color:black;\n    }\n"])));var Oi=e=>{const{clickCallback:t,closeCallback:n,title:a}=e;return Object(k.jsxs)(pi,{children:[Object(k.jsx)(ui,{onClick:()=>t(),children:a}),Object(k.jsx)(xi,{children:Object(k.jsx)(Br.a,{onClick:()=>n(),fontSize:"medium"})})]})};const fi=Object(E.b)({name:"list",initialState:{allLists:[],loadingListService:!0},reducers:{setLoading:(e,t)=>{e.loadingListService=t.payload},successCreatingList:(e,t)=>{e.allLists.push(t.payload)},successFetchingLists:(e,t)=>{e.allLists=t.payload},successDeletingList:(e,t)=>{e.allLists=e.allLists.filter(e=>e._id!==t.payload)},deleteCard:(e,t)=>{const{listId:n,cardId:a}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.filter(e=>e._id!==a)),e))},successCreatingCard:(e,t)=>{e.allLists=e.allLists.map(e=>e._id===t.payload.listId?t.payload.updatedList:e)},updateCardDragDrop:(e,t)=>{e.allLists=t.payload},updateListDragDrop:(e,t)=>{e.allLists=t.payload},setCardTitle:(e,t)=>{const{listId:n,cardId:a,title:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.title=r),e))),e))},updateListTitle:(e,t)=>{const{listId:n,title:a}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.title=a),e))},updateMemberOfCard:(e,t)=>{const{listId:n,cardId:a,memberId:r,memberName:i,memberColor:c}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&e.members.unshift({user:r,name:i,color:c}),e))),e))},deleteMemberOfCard:(e,t)=>{const{listId:n,cardId:a,memberId:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.members=e.members.filter(e=>e.user!==r)),e))),e))},updateDescriptionOfCard:(e,t)=>{const{listId:n,cardId:a,description:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.description=r),e))),e))},updateLabelSelectionOfCard:(e,t)=>{const{listId:n,cardId:a,labelId:r,selected:i}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.labels=e.labels.map(e=>(e._id===r&&(e.selected=i),e))),e))),e))},updateLabelOfCard:(e,t)=>{const{listId:n,cardId:a,labelId:r,text:i,color:c,backColor:o}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.labels=e.labels.map(e=>(e._id===r&&(e.text=i,e.color=c,e.backColor=o),e))),e))),e))},createLabelForCard:(e,t)=>{const{listId:n,cardId:a,_id:r,text:i,color:c,backColor:o}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&e.labels.unshift({_id:r,text:i,color:c,backColor:o,selected:!0}),e))),e))},deleteLabelOfCard:(e,t)=>{const{listId:n,cardId:a,labelId:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.labels=e.labels.filter(e=>e._id!==r)),e))),e))},createChecklistForCard:(e,t)=>{const{listId:n,cardId:a,_id:r,title:i}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&e.checklists.push({_id:r,title:i,items:[]}),e))),e))},deleteChecklistOfCard:(e,t)=>{const{listId:n,cardId:a,checklistId:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.checklists=e.checklists.filter(e=>e._id!==r)),e))),e))},addChecklistItemForCard:(e,t)=>{const{listId:n,cardId:a,checklistId:r,_id:i,text:c}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.checklists=e.checklists.map(e=>(e._id.toString()===r.toString()&&e.items.push({_id:i,text:c,completed:!1}),e))),e))),e))},setChecklistItemCompletedOfCard:(e,t)=>{const{listId:n,cardId:a,checklistId:r,checklistItemId:i,completed:c}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.checklists=e.checklists.map(e=>(e._id.toString()===r.toString()&&(e.items=e.items.map(e=>(e._id===i&&(e.completed=c),e))),e))),e))),e))},deleteChecklistItemOfCard:(e,t)=>{const{listId:n,cardId:a,checklistId:r,checklistItemId:i}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.checklists=e.checklists.map(e=>(e._id.toString()===r.toString()&&(e.items=e.items.filter(e=>e._id!==i)),e))),e))),e))},setChecklistItemTextOfCard:(e,t)=>{const{listId:n,cardId:a,checklistId:r,checklistItemId:i,text:c}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.checklists=e.checklists.map(e=>(e._id.toString()===r.toString()&&(e.items=e.items.map(e=>(e._id===i&&(e.text=c),e))),e))),e))),e))},updateStartDueDatesOfCard:(e,t)=>{const{listId:n,cardId:a,startDate:r,dueDate:i,dueTime:c}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.date.startDate=r,e.date.dueDate=i,e.date.dueTime=c,null===i&&(e.date.completed=!1)),e))),e))},updateDateCompletedOfCard:(e,t)=>{const{listId:n,cardId:a,completed:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.date.completed=r),e))),e))},addAttachmentForCard:(e,t)=>{const{listId:n,cardId:a,link:r,name:i,_id:c,date:o}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&e.attachments.push({link:r,name:i,_id:c,date:o}),e))),e))},deleteAttachmentOfCard:(e,t)=>{const{listId:n,cardId:a,attachmentId:r}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.attachments=e.attachments.filter(e=>e._id!==r)),e))),e))},updateCoverOfCard:(e,t)=>{const{listId:n,cardId:a,color:r,isSizeOne:i}=t.payload;e.allLists=e.allLists.map(e=>(e._id===n&&(e.cards=e.cards.map(e=>(e._id===a&&(e.cover.color=r,e.cover.isSizeOne=i),e))),e))}}}),{setLoading:vi,successCreatingList:wi,successFetchingLists:ki,successDeletingList:yi,deleteCard:Ci,successCreatingCard:Ii,updateCardDragDrop:Si,updateListDragDrop:zi,setCardTitle:Di,updateListTitle:Mi,updateMemberOfCard:_i,deleteMemberOfCard:Li,updateDescriptionOfCard:Ti,updateLabelSelectionOfCard:Ai,updateLabelOfCard:Fi,createLabelForCard:Ei,deleteLabelOfCard:Bi,createChecklistForCard:Ni,deleteChecklistOfCard:Pi,addChecklistItemForCard:Yi,setChecklistItemCompletedOfCard:Ri,deleteChecklistItemOfCard:Hi,setChecklistItemTextOfCard:Ui,updateStartDueDatesOfCard:qi,updateDateCompletedOfCard:Wi,addAttachmentForCard:Ji,deleteAttachmentOfCard:Qi,updateCoverOfCard:Gi}=fi.actions;var Vi=fi.reducer;const Ki="http://localhost:3001/list",Xi="http://localhost:3001/board",Zi=async(e,t,n,a)=>{try{await a(Ft({background:t,isImage:n})),await F.a.put("".concat(Xi,"/").concat(e,"/update-background"),{background:t,isImage:n})}catch(c){var r,i;a(ee({message:null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.errMessage?c.response.data.errMessage:c.message,severity:"error"}))}};var $i,ec,tc,nc,ac,rc,ic,cc=()=>{const e=Object(o.useRef)(),t=Object(o.useRef)(),n=Object(o.useRef)(),a=Object(A.c)(),r=Object(A.d)(e=>e.board),[i,c]=Object(o.useState)(r.description),[s,d]=Object(o.useState)(!1),l=e=>{n.current&&(n.current.contains(e.target)||(d(!1),c(r.description)))};return Object(o.useEffect)(()=>(document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l))),Object(k.jsxs)(Xr,{children:[Object(k.jsxs)(Zr,{children:[Object(k.jsxs)($r,{children:[Object(k.jsx)(ei,{children:Object(k.jsx)(ji.a,{fontSize:"inherit"})}),Object(k.jsx)(ti,{children:"Board Admins"})]}),r.members.filter(e=>"owner"===e.role).map(e=>Object(k.jsxs)(ni,{children:[Object(k.jsx)(In.a,{sx:{width:"3rem",height:"3rem",bgcolor:e.color,fontWeight:"800"},children:e.name[0].toUpperCase()}),Object(k.jsxs)(ai,{children:[Object(k.jsx)(ri,{children:"".concat(e.name.replace(/^./,e.name[0].toUpperCase())," ").concat(e.surname.toUpperCase())}),Object(k.jsx)(ii,{children:e.email})]})]},e.email))]}),Object(k.jsxs)(Zr,{children:[Object(k.jsxs)($r,{children:[Object(k.jsx)(ei,{children:Object(k.jsx)(gi.a,{fontSize:"inherit"})}),Object(k.jsx)(ti,{children:"Description"})]}),Object(k.jsxs)(ci,{ref:n,children:[Object(k.jsx)(oi,{ref:e,onChange:function(t){const n=t.target;c(n.value),e.current.style.height="5.5rem",e.current.style.height="".concat(n.scrollHeight,"px")},value:i,onFocus:()=>d(!0),textHeight:t.current?t.current.scrollHeight:"1rem",focused:s,placeholder:"It\u2019s your board\u2019s time to shine! Let people know what this board is used for and what they can expect to see."}),s&&Object(k.jsx)(Oi,{title:"Save",clickCallback:()=>{d(!1),(async(e,t,n)=>{try{await n(At(t)),await F.a.put("".concat(Xi,"/").concat(e,"/update-board-description"),{description:t})}catch(i){var a,r;n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(r.id,i,a)},closeCallback:()=>d(!1)})]})]}),Object(k.jsx)(si,{ref:t,children:i})]})};const oc=h.b.div($i||($i=Object(j.a)(["\npadding: 0.5rem;\nwidth:100%;\nheight:fit-content;\ndisplay:flex;\nflex-direction:column;\ngap:0.5rem;\n\n"]))),sc=h.b.div(ec||(ec=Object(j.a)(["\ndisplay:flex;\nflex-direction: column;\ngap:0.5rem;\n"]))),dc=h.b.div(tc||(tc=Object(j.a)(["\nwidth:100%;\npadding: 0.3rem 0.5rem;\nheight: fit-content;\nborder-radius: 3px;\ncursor: pointer;\ndisplay:flex;\nflex-direction:row;\ngap:0.5rem;\ntransition: 150ms ease-in;\n&:hover{\n    background-color: rgba(0,0,0,0.065);\n}\n"]))),lc=h.b.div(nc||(nc=Object(j.a)(["\ncolor: #172b4d;\n"]))),bc=h.b.div(ac||(ac=Object(j.a)([""]))),mc=h.b.p(rc||(rc=Object(j.a)(["\ncolor:#172b4d;\nfont-size: 0.875rem;\nfont-weight: 800;\nmargin:0;\npadding:0;\n"]))),jc=h.b.p(ic||(ic=Object(j.a)(["\nmargin:0;\npadding:0;\ncolor: #5e6c84;\nfont-size: 0.87rem;\n"])));var hc,gc,pc,uc,xc,Oc,fc,vc,wc,kc,yc,Cc=e=>Object(k.jsxs)(dc,{onClick:e.clickCallback,children:[Object(k.jsx)(lc,{children:e.icon}),Object(k.jsxs)(bc,{children:[Object(k.jsx)(mc,{children:e.title}),Object(k.jsx)(jc,{children:e.description})]})]}),Ic=n(174),Sc=n.n(Ic),zc=n(175),Dc=n.n(zc),Mc=n(113),_c=n.n(Mc);const Lc=h.b.div(hc||(hc=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1rem;\n\twidth: 100%;\n\theight: fit-content;\n"]))),Tc=h.b.div(gc||(gc=Object(j.a)(["\n\tpadding: 0rem 0.5rem;\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 0.5rem;\n"]))),Ac=h.b.div(pc||(pc=Object(j.a)(["\n\tfont-size: 0.875rem;\n\tfont-weight: 600;\n"]))),Fc=h.b.div(uc||(uc=Object(j.a)(["\n\twidth: 100%;\n\theight:fit-content;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.75rem;\n"]))),Ec=h.b.div(xc||(xc=Object(j.a)(["\n\tpadding: 0rem 0.25rem;\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 0.5rem;\n"]))),Bc=h.b.div(Oc||(Oc=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.25rem;\n"]))),Nc=h.b.div(fc||(fc=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: flex-end;\n\tgap: 0.5rem;\n"]))),Pc=h.b.p(vc||(vc=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 0.875rem;\n\toverflow-x:hidden;\n\tword-break: break-all;\n"]))),Yc=h.b.p(wc||(wc=Object(j.a)(["\n\tdisplay: block;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 0.75rem;\n\tcolor: #5e6c84;\n"]))),Rc=h.b.div(kc||(kc=Object(j.a)(["\n\twidth: 100%;\n\tbackground-color: white;\n\ttext-align: left;\n\tpadding: 0.5rem;\n\tborder-radius: 3px;\n\tborder: 2px solid rgba(0, 0, 0, 0.065);\n\toverflow-wrap: break-word;\n\tword-break: break-word;\n\tfont-size: 0.875rem;\n"]))),Hc=h.b.div(yc||(yc=Object(j.a)(["\n\theight: 3rem;\n\twidth: 8rem;\n\tpadding: 0.5rem 3rem;\n\tmargin-right:auto;\n\tmargin-left:auto;\n\tbackground-image: url(",");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n"])),e=>e.image);var Uc=n(17),qc=n.n(Uc);var Wc=()=>{const e=Object(A.d)(e=>e.board),t=Object(A.c)();Object(o.useEffect)(()=>{(async(e,t)=>{t(Lt(!0));try{const n=await F.a.get(Xi+"/"+e+"/activity");t(Tt(n.data)),t(Lt(!1))}catch(r){var n,a;t(Lt(!1)),t(ee({message:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errMessage?r.response.data.errMessage:r.message,severity:"error"}))}})(e.id,t)},[e.id,t]);const n=e=>Object(k.jsxs)(Ec,{children:[Object(k.jsx)(In.a,{sx:{width:32,height:32,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.name[0].toUpperCase()}),Object(k.jsxs)(Bc,{children:[Object(k.jsxs)(Nc,{children:[Object(k.jsxs)(Pc,{children:[Object(k.jsx)("b",{style:{fontSize:"0.875rem"},children:e.name})," on ",e.cardTitle]}),Object(k.jsx)(Yc,{children:qc()(e.date).fromNow()})]}),Object(k.jsx)(Rc,{children:e.action})]})]}),a=e=>Object(k.jsxs)(Ec,{children:[Object(k.jsx)(In.a,{sx:{width:32,height:32,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.name[0].toUpperCase()}),Object(k.jsxs)(Bc,{children:[Object(k.jsxs)(Pc,{children:[Object(k.jsx)("b",{style:{fontSize:"0.875rem"},children:e.name})," ",e.action]}),Object(k.jsx)(Yc,{children:-1===qc()(e.date).calendar().indexOf("Today")?qc()(e.date).calendar():qc()(e.date).fromNow()})]})]});return Object(k.jsxs)(Lc,{children:[Object(k.jsxs)(Tc,{children:[Object(k.jsx)(_c.a,{fontSize:"small"}),Object(k.jsx)(Ac,{children:"Activity"})]}),Object(k.jsx)(Fc,{children:e.activityLoading?Object(k.jsx)(Hc,{image:Gt}):e.activity.map(e=>"action"===e.actionType?Object(k.jsx)(a,Object(T.a)({},e),e._id):Object(k.jsx)(n,Object(T.a)({},e),e._id))})]})};var Jc,Qc,Gc,Vc,Kc,Xc,Zc=e=>Object(k.jsxs)(oc,{children:[Object(k.jsxs)(sc,{children:[Object(k.jsx)(Cc,{icon:Object(k.jsx)(Sc.a,{fontSize:"small",color:"inherit"}),title:"About this board",description:"Add a description to your board",clickCallback:()=>e.menuCallback("About this board")}),Object(k.jsx)(Cc,{icon:Object(k.jsx)(Dc.a,{fontSize:"small",color:"inherit"}),title:"Change background",description:"Change the background of your board",clickCallback:()=>e.menuCallback("Change background")})]}),Object(k.jsx)(Lr,{}),Object(k.jsx)(Wc,{})]});const $c=h.b.div(Jc||(Jc=Object(j.a)(["\nwidth:100%;\nheight: fit-content;\ndisplay:flex;\nflex-direction:row;\nalign-items:center;\njustify-content:center;\ngap:0.5rem;\n"]))),eo=h.b.div(Qc||(Qc=Object(j.a)(["\nflex:1;\ndisplay:flex;\nflex-direction:column;\nalign-items:center;\njustify-content:center;\ngap:0.3rem;\ncursor: pointer;\n"]))),to=h.b.div(Gc||(Gc=Object(j.a)(["\nbackground-image: url(",");\nbackground-color: ",";\nbackground-position:50%;\nbackground-repeat:no-repeat;\nbackground-size: cover;\nwidth:100%;\nheight:6rem;\nborder:0;\ntext-decoration: none;\noutline: none;\nborder-radius: 0.5rem; \nzoom: 1;\n&:hover{\n    filter: brightness(1.1);\n}\n"])),e=>e.link,e=>e.bg),no=h.b.div(Vc||(Vc=Object(j.a)(["\nfont-size: 0.875rem;\ndisplay:flex;\nalign-items:center;\n"]))),ao=h.b.div(Kc||(Kc=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction: row;\nflex-wrap:wrap;\n"]))),ro=h.b.div(Xc||(Xc=Object(j.a)(["\nwidth:50%;\nbox-sizing: border-box;\npadding: 0rem 0.25rem 0.5rem 0.25rem;\ncursor: pointer;\n&:hover{\n    filter: brightness(1.2);\n}\n"])));var io=n(327);const co=e=>Object(k.jsxs)($c,{children:[Object(k.jsxs)(eo,{onClick:()=>e.menuCallback("Photos by Unsplash"),children:[Object(k.jsx)(to,{link:"https://a.trellocdn.com/prgb/dist/images/photos-thumbnail@3x.8f9c1323c9c16601a9a4.jpg"}),Object(k.jsx)(no,{children:"Photos"})]}),Object(k.jsxs)(eo,{onClick:()=>e.menuCallback("Colors"),children:[Object(k.jsx)(to,{link:"https://a.trellocdn.com/prgb/dist/images/colors@2x.ec32a2ed8dd8198b8ef0.jpg"}),Object(k.jsx)(no,{children:"Colors"})]})]}),oo=e=>{const[t,n]=Object(o.useState)([]);Object(o.useEffect)(()=>{(async()=>{const e=F.a.create();return delete e.defaults.headers.common.Authorization,(await e.get("https://trello.com/proxy/unsplash/collections/317099/photos?per_page=30&order_by=latest&page=4")).data})().then(e=>{setTimeout(()=>{n(e)},2e3)})},[]);return Object(k.jsx)(ao,{children:t.length>0?t.map(t=>Object(k.jsx)(ro,{onClick:()=>{return n=t.urls.full,void Zi(e.boardId,n,!0,e.dispatch);var n},children:Object(k.jsx)(to,{link:t.urls.small},t.id)},t.id)):[...Array(18).keys()].map((e,t)=>Object(k.jsx)(ro,{children:Object(k.jsx)(io.a,{variant:"rectangular",width:"100%",height:"6rem"})},t))})},so=e=>Object(k.jsx)(ao,{children:["#0079bf","#d29034","#519839","#b04632","#89609e","#cd5a91","#4bbf6b","#00aecc"].map(t=>Object(k.jsx)(ro,{onClick:()=>{return n=t,void Zi(e.boardId,n,!1,e.dispatch);var n},children:Object(k.jsx)(to,{bg:t},t)},t))});var lo=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.board.id);return Object(k.jsx)(k.Fragment,{children:"Change background"===e.sectionName?Object(k.jsx)(co,Object(T.a)(Object(T.a)({},e),{},{dispatch:t,boardId:n})):"Photos by Unsplash"===e.sectionName?Object(k.jsx)(oo,Object(T.a)(Object(T.a)({},e),{},{dispatch:t,boardId:n})):Object(k.jsx)(so,Object(T.a)(Object(T.a)({},e),{},{dispatch:t,boardId:n}))})};var bo,mo,jo,ho,go,po,uo,xo=e=>{const[t,n]=Object(o.useState)(!1),[a,r]=Object(o.useState)("Menu");Object(o.useEffect)(()=>{e.show&&n(!0)},[e.show]);return Object(k.jsx)(Kr,{title:a,show:t,closeCallback:t=>{n(t),e.closeCallback()},backClickCallback:()=>{r("About this board"===a||"Change background"===a?"Menu":"Change background")},showBackIcon:"Menu"!==a,content:"Menu"===a?Object(k.jsx)(Zc,{menuCallback:e=>{r(e)}}):"About this board"===a?Object(k.jsx)(cc,{}):Object(k.jsx)(lo,{menuCallback:e=>{r(e)},sectionName:a})})},Oo=n(336);const fo=h.b.div(bo||(bo=Object(j.a)(["\t\n\t/* width: ","; */\n\tmin-width: 16.3rem;\n\theight: fit-content;\n\tbackground-color: #fff;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tpadding: 0.8rem;\n\tposition: relative;\n"])),e=>e.changeWidth),vo=h.b.div(mo||(mo=Object(j.a)(["\n\twidth: 100%;\n\ttext-align: center;\n"]))),wo=h.b.h3(jo||(jo=Object(j.a)(["\n\tfont-size: 0.875rem;\n\tcolor: #5e6c84;\n"]))),ko=h.b.hr(ho||(ho=Object(j.a)(["\n\tborder: none;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]))),yo=h.b.div(go||(go=Object(j.a)(["\n\tborder: none;\n\tbackground-color: transparent;\n\tposition: absolute;\n\tright: 0.5rem;\n\ttop: 0.45rem;\n\tcolor: #5e6c84;\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: black;\n\t}\n"]))),Co=h.b.div(po||(po=Object(j.a)(["\n\tborder: none;\n\tbackground-color: transparent;\n\tcolor: #5e6c84;\n\tcursor: pointer;\n\tposition: absolute;\n\ttop: 0.6rem;\n\tleft: 0.9rem;\n\tfont-size: 0.8rem;\n\t&:hover {\n\t\tcolor: black;\n\t}\n"]))),Io=h.b.div(uo||(uo=Object(j.a)(["\n\twidth: 100%;\n"])));function So(e){const{closeCallback:t,anchorElement:n,contents:a,title:r,backArrow:i,backClick:c}=e;return Object(k.jsx)(Oo.b,{open:Boolean(n),anchorEl:n,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(k.jsxs)(fo,{changeWidth:e.width?e.width:"20vw",children:[Object(k.jsx)(yo,{onClick:t,children:Object(k.jsx)(Br.a,{fontSize:"1.5rem"})}),Object(k.jsxs)(vo,{children:[Object(k.jsx)(wo,{children:r}),Object(k.jsx)(ko,{})]}),Object(k.jsx)(Io,{children:a}),i&&Object(k.jsx)(Co,{children:Object(k.jsx)(Fr.a,{onClick:()=>c(),fontSize:"inherit"})})]})})}var zo,Do,Mo,_o;const Lo=h.b.div(zo||(zo=Object(j.a)(["\nwidth:100%;\nheight: fit-content;\ndisplay:flex;\nflex-direction: column;\ngap:0.5rem;\nmax-width:260px;\n"]))),To=h.b.div(Do||(Do=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:row;\nalign-items:center;\njustify-content:flex-start;\ngap:0.3rem;\n"]))),Ao=h.b.input(Mo||(Mo=Object(j.a)(["\nborder:none;\noutline:2px solid transparent;\nborder-radius:3px;\nbackground-color: rgba(0,0,0,0.035);\npadding: 0.3rem;\nfont-size:1rem;\nwidth:100%;\nflex:3;\ntransition: 150ms ease-in;\n&:hover{\n    background-color: rgba(0,0,0,0.065);\n}\n&:focus{\n    background-color:white;\n    color:black;\n    outline: 2px solid #0079bf;\n}\n"]))),Fo=h.b.div(_o||(_o=Object(j.a)(["\nwidth:100%;\ndisplay:flex;\nflex-direction:row;\nflex-wrap:wrap;\ngap:0.3rem;\n"])));var Eo;const Bo=h.b.button(Eo||(Eo=Object(j.a)(["\n\tdisplay: inline-flex;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: rgba(0, 0, 0, 0.06);\n\tfont-size: 0.875rem;\n\tborder: none;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tcolor: #172b4d;\n\tpadding: 0.375rem 0.75rem;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n\t&:active {\n\t\tbackground-color: #e4f0f6;\n\t\tcolor: #0079bf;\n\t}\n"])));var No=e=>{const{title:t,clickCallback:n}=e;return Object(k.jsx)(Bo,Object(T.a)(Object(T.a)({},e),{},{onClick:n,children:t}))};const Po=Object(qa.a)({root:{maxWidth:"8rem",opacity:"70%"}}),Yo=e=>{const{name:t,surname:n,email:a,callback:r}=e,i=Po();return Object(k.jsx)(Dn.a,{TransitionComponent:Wa.a,title:"".concat(t," ").concat(n),size:"small",placement:"top",arrow:!0,children:Object(k.jsx)(Ua.a,{className:i.root,onDelete:()=>r(a),avatar:Object(k.jsx)(In.a,{children:t.toString()[0]}),label:t,size:"small",color:"secondary"})})};var Ro=()=>{const[e,t]=Object(o.useState)(""),[n,a]=Object(o.useState)([]),r=Object(A.c)(),i=Object(A.d)(e=>e.board.members),c=Object(A.d)(e=>e.board.id),s=e=>{const t=n.filter(t=>t.email!==e);a([...t])};return Object(k.jsxs)(Lo,{children:[Object(k.jsxs)(To,{children:[Object(k.jsx)(Ao,{type:"email",placeholder:"Member's Email",value:e,onChange:e=>{t(e.target.value)}}),Object(k.jsx)(No,{title:"Add",style:{flex:"1"},clickCallback:async()=>{const n=i.filter(t=>t.email===e)[0];if(n)return r(ee({message:"".concat(n.name," is already member of this board!"),severity:"error"})),void t("");const c=await ie(e,r);c&&(a(e=>[...e,c]),t(""))}})]}),Object(k.jsx)(Fo,{children:n.map(e=>Object(k.jsx)(Yo,Object(T.a)({callback:s},e),e.email))}),n.length>0&&Object(k.jsx)(No,{clickCallback:async()=>{await(async(e,t,n)=>{try{const a=await F.a.post("".concat(Xi,"/").concat(e,"/add-member"),{members:t});await n(Et(a.data)),n(ee({message:"Members are added to this board successfully",severity:"success"}))}catch(i){var a,r;n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(c,n,r)},title:"Invite"})]})};var Ho,Uo,qo=()=>{const e=Object(A.d)(e=>e.board),[t,n]=Object(o.useState)(e.title),[a,r]=Object(o.useState)(!1),[i,c]=s.a.useState(null),d=Object(A.c)();Object(o.useEffect)(()=>{e.loading||n(e.title)},[e.loading,e.title]);return Object(k.jsxs)(ar,{children:[Object(k.jsxs)(rr,{children:[Object(k.jsxs)(cr,{onClick:e=>c(e.currentTarget),children:[Object(k.jsx)(jr.a,{}),Object(k.jsx)(or,{children:"Agregar miembro"})]}),i&&Object(k.jsx)(So,{anchorElement:i,closeCallback:()=>{c(null)},title:"Agregar miembro",contents:Object(k.jsx)(Ro,{closeCallback:()=>{c(null)}})}),Object(k.jsx)(sr,{placeholder:"Nombre del tablero",value:t,onChange:e=>n(e.target.value),onBlur:()=>{(async(e,t,n)=>{try{n(_t(e)),await F.a.put(Nt+"/"+t+"/update-board-title",{title:e})}catch(i){var a,r;n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(t,e.id,d)}})]}),Object(k.jsx)(ir,{children:Object(k.jsxs)(ur,{onClick:()=>{r(!0)},children:[Object(k.jsx)(gr.a,{}),Object(k.jsx)(or,{children:"Mostrar menu"})]})}),Object(k.jsx)(xo,{show:a,closeCallback:()=>{r(!1)}})]})};const Wo=h.b.div(Ho||(Ho=Object(j.a)(["\n\t","\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tzoom: 1;\n\tpadding-top: 3rem;\n\theight: fit-content;\n\tbackground-size: cover;\n"])),e=>e.isImage?"background-image: url("+e.bgImage+");":"background-color: "+e.bgImage+";"),Jo=h.b.div(Uo||(Uo=Object(j.a)(["\n\tbox-sizing: border-box;\n\theight: calc(100vh - 3rem - 52px);\n\tdisplay: flex;\n\tflex-direction: row;\n\tpadding: 0rem 1rem;\n\toverflow-x: auto;\n\toverflow-y: hidden;\n\twhite-space: nowrap;\n\tzoom: 1;\n\t/* width */\n\t::-webkit-scrollbar {\n\t\theight: 0.75rem;\n\t\twidth: 1rem;\n\t\tmargin-bottom: 20px;\n\t}\n\n\t/* Track */\n\t::-webkit-scrollbar-track {\n\t\tbackground: rgba(0, 0, 0, 0.2);\n        margin:10rem;\n        padding-bottom:1rem;\n\t\tborder-radius: 5px;\n\t}\n\n\t/* Handle */\n\t::-webkit-scrollbar-thumb {\n\t\tbackground-clip: padding-box;\n\t\tbackground: rgba(255, 255, 255, 0.4);\n\n\t\tborder-radius: 5px;\n\t}\n\n\t/* Handle on hover */\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t}\n"])));var Qo,Go,Vo,Ko,Xo,Zo;const $o=h.b.div(Qo||(Qo=Object(j.a)(["\n  display: flex;\n  flex-direction: column;  \n  flex-wrap: wrap;\n  overflow-y: auto;\n  min-width: 16rem;\n  align-items: center;\n  background-color: ",";\n  color: white;\n  height:fit-content;  \n  margin-left:0.2rem;\n  gap: 0.3rem;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: 250ms ease;\n"])),e=>e.show?"#ebecf0":"transparent"),es=Object(h.b)(ur)(Go||(Go=Object(j.a)(["\nwidth: 100%;\ndisplay: ",";\n"])),e=>e.show?"none":"flex"),ts=Object(h.c)(Vo||(Vo=Object(j.a)(["\n 0% { height: 0rem; width: 100%; overflow: hidden; }\n 25% { height: 1rem; width: 100%;  overflow: hidden;}\n 50% { height: 2rem; width: 100%;  overflow: hidden;}\n 75% { height: 3rem; width: 100%; overflow: hidden;}\n 100% { height: 4rem; width: 100%;  overflow: hidden;}\n"]))),ns=Object(h.b)($o)(Ko||(Ko=Object(j.a)(["\nflex-direction: column;\ndisplay: ",";\nanimation-name: ",";\nanimation-duration:200ms;\nanimation-iteration-count: 1;\npadding: 0.5rem;\ngap:0.3rem;\n\n"])),e=>e.show?"flex":"none",e=>e.show&&ts),as=h.b.div(Xo||(Xo=Object(j.a)(["\nwidth:100%;\ndisplay: flex;\nflex-direction: column;\ngap:0.3rem;\n"]))),rs=h.b.input(Zo||(Zo=Object(j.a)(["\nwidth: 100%;\npadding: 0.25rem 0.5rem;\nborder-radius:2px;\nborder:none;\noutline: 2px solid #0079bf;\ndisplay:flex;\njustify-content: flex-start;\ndisplay:inline;\n&:focus{\n  \n}\n"])));var is,cs,os,ss,ds,ls,bs,ms,js,hs,gs=e=>{const t=Object(A.c)(),[n,a]=Object(o.useState)(!1),[r,i]=Object(o.useState)(""),c=Object(o.useRef)();Object(o.useEffect)(()=>{n&&c.current.focus()},[n]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)($o,{children:[Object(k.jsxs)(es,{show:n,onClick:()=>a(!0),children:[Object(k.jsx)(Ha.a,{}),Object(k.jsx)(pr,{children:"Add another List"})]}),Object(k.jsx)(ns,{show:n,children:Object(k.jsxs)(as,{children:[Object(k.jsx)(rs,{ref:c,placeholder:"Enter list title",value:r,onChange:e=>i(e.target.value)}),Object(k.jsx)(Oi,{title:"Add list",clickCallback:()=>{a(!1),(async(e,t,n)=>{n(vi(!0));try{const a=await F.a.post(Ki+"/create",{title:e,boardId:t});n(wi(a.data)),n(vi(!1))}catch(i){var a,r;n(vi(!1)),n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(r,e.boardId,t),i("")},closeCallback:()=>{a(!1),i("")}})]})})]})})};const ps=h.b.div(is||(is=Object(j.a)(["\n\tbox-sizing: content-box;\n\tborder: 1px solid white;\n\theight: fit-content;\n\tmax-height: 98%;\n\tmin-width: 15rem;\n\twidth: 15rem;\n\tmax-width: 16rem;\n\tmargin: 0rem 0.2rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 0.3rem;\n\tborder-radius: 3px;\n\tbackground-color: #ebecf0;\n\tpadding: 0.3rem ;\t\n"]))),us=h.b.div(cs||(cs=Object(j.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 0.3rem;\n"]))),xs=h.b.div(os||(os=Object(j.a)(["\n\tdisplay: ",";\n\twidth: 100%;\n\tpadding-left: 0.3rem;\n\tborder: none;\n\tborder-radius: 1px;\n\tbackground-color: transparent;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\tcolor: #000;\n\toutline: none;\n\tcursor: pointer;\n"])),e=>e.show?"none":"block"),Os=h.b.input(ss||(ss=Object(j.a)(["\n\tdisplay: ",";\n\twidth: 100%;\n\tpadding-left: 0.3rem;\n\tpadding-bottom: 0.2rem;\n\tborder: none;\n\tborder-radius: 1px;\n\tbackground-color: transparent;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\tcolor: #000;\n\toutline: none;\n\tcursor: pointer;\n\t&:focus {\n\t\tbackground-color: white;\n\t\toutline: 2px solid #0079bf;\n\t\tcursor: text;\n\t}\n"])),e=>e.show?"block":"none"),fs=h.b.div(ds||(ds=Object(j.a)(["\n\theight: 100%;\n\twidth: 100%;\t\t\n\tbox-sizing: content-box;\n"]))),vs=h.b.div(ls||(ls=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: flex-start;\n\tbox-sizing: content-box;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\theight:fit-content;\n\tmax-height: ",";\n\tjustify-content: flex-start;\n\tpadding: 0.1rem 0.1rem 0.1rem 0rem;\t\t\n\twidth: 100%;\n\t","\n\t::-webkit-scrollbar {\n\t\t-webkit-appearance: none;\n\t\theight: 0.75rem;\n\t\twidth: 0.5rem;\t\n\t}\n\t::-webkit-scrollbar-track {\n\t\tbackground: rgba(255, 255, 255, 0.4);\t\t\n\t\tmargin-left:5px;\n\t\tborder-radius: 5px;\n\t}\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: rgba(0, 0, 0, 0.2);\n\t\tborder-radius: 5px;\n\t}\n\t::-webkit-scrollbar-thumb:hover {\n\t\tbackground: rgba(0, 0, 0, 0.2);\n\t}\n"])),e=>e.dock?"73.5vh":"70.6vh",g({maxHeight:e=>e.dock?"74.6vh":"70.6vh"})),ws=h.b.button(bs||(bs=Object(j.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tbackground-color: transparent;\n\tborder: none;\n\tborder-radius: 3px;\n\talign-self: flex-end;\n\tjustify-self: flex-end;\n\tcursor: pointer;\n\tgap: 0.3rem;\n\tcolor: #636363;\n\ttransition: 150ms ease-in;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n"]))),ks=h.b.span(ms||(ms=Object(j.a)(["\n\tfont-size: 0.85rem;\n"]))),ys=h.b.div(js||(js=Object(j.a)(["\n\tbox-sizing: border-box;\n\tmargin-top: 0.2rem;\n\tpadding: 0rem 0.2rem;\t\t\t\n\tmin-width: 14.7rem;\n\twidth:100%;\n\tdisplay: flex;\n\tflex-flow: column wrap;\n\tgap: 0.5rem;\n"]))),Cs=h.b.textarea(hs||(hs=Object(j.a)(["\n\tborder: 2px solid transparent;\n\tborder-radius:3px;\n\tresize: none;\n\tfont-size: 0.75rem;\n\tcolor: #000;\n\tpadding: 0.4rem 0.5rem;\n\tmin-height: 4rem;\n\tmax-height: 7rem;\t\n\theight: ",";\n\ttransition: 500ms ease-in;\n\toutline: none;\n\t&:focus{\n\t\tborder: 2px solid #0079bf;\n\t}\n\t&::placeholder {\n\t\tfont-weight: 600;\n\t\tcolor: rgba(0,0,0,0.5);\n\t}\n"])),e=>e.height);var Is,Ss;const zs=h.b.div(Is||(Is=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tgap: 0.5rem;\n\tpadding: 0rem 1rem 1rem 1rem;\n"]))),Ds=h.b.div(Ss||(Ss=Object(j.a)(["\n\tcolor: #5e6c84;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"])));var Ms,_s;const Ls=h.b.button(Ms||(Ms=Object(j.a)(["\n\tdisplay: inline-flex;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tbackground-color: rgba(0, 0, 0, 0.06);\n\tfont-size: 0.875rem;\n\tborder: none;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tcolor: #172b4d;\n\tpadding: 0.375rem;\n\theight:2rem;\n\tgap: 0.5rem;\n\twidth:100%;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n\t&:active {\n\t\tbackground-color: #e4f0f6;\n\t\tcolor: #0079bf;\n\t}\n"]))),Ts=h.b.span(_s||(_s=Object(j.a)(["\n\tcolor: inherit;\n\tfont-size: inherit;\n\tdisplay: inline;\n"])));var As=e=>{const{title:t,icon:n,clickCallback:a}=e;return Object(k.jsxs)(Ls,{onClick:a,children:[n,Object(k.jsx)(Ts,{children:t})]})},Fs=n(177),Es=n.n(Fs);const Bs="http://localhost:3001/card";var Ns,Ps,Ys,Rs,Hs,Us,qs,Ws,Js=()=>{const e=Object(A.d)(e=>e.card),t=Object(A.c)();return Object(k.jsxs)(zs,{children:[Object(k.jsx)(Ds,{children:"Acciones"}),Object(k.jsx)(As,{clickCallback:()=>{(async(e,t,n,a)=>{try{await a(Ci({listId:e,cardId:n})),await F.a.delete(Bs+"/"+t+"/"+e+"/"+n+"/delete-card")}catch(c){var r,i;a(ee({message:null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.errMessage?c.response.data.errMessage:c.message,severity:"error"}))}})(e.listId,e.boardId,e.cardId,t)},title:"Eliminar",icon:Object(k.jsx)(Es.a,{fontSize:"small"})})]})};const Qs=h.b.div(Ns||(Ns=Object(j.a)(["\n\tmargin-left: 1rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 1rem;\n"]))),Gs=h.b.div(Ps||(Ps=Object(j.a)(["\n\tpadding-top: 0.3rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 1.4rem;\n"]))),Vs=h.b.div(Ys||(Ys=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1rem;\n\twidth: 100%;\n"]))),Ks=h.b.div(Rs||(Rs=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),Xs=h.b.div(Hs||(Hs=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0.2rem 0rem 0rem 0rem;\n\tdisplay: inline;\n\tcolor: black;\n\tfont-size: 1rem;\n\tfont-weight: 800;\n"]))),Zs=h.b.div(Us||(Us=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tposition: relative;\n"]))),$s=h.b.textarea(qs||(qs=Object(j.a)(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tmargin: 0;\n\tresize: none;\n\toutline: none;\n\tborder-radius: 2px;\n\theight: ",";\n\tfont-size: 0.875rem;\n\tpadding: 0.5rem 0.75rem;\n\tborder: 1px solid lightgray;\n\ttransition: 170ms ease-in;\n\tcursor: pointer;\n\t&:hover {\n\t\tborder-bottom: 1px solid #afafaf;\n\t}\n\t&:focus {\n\t\tbox-shadow: 0 4px 8px -2px #091e4240, 0 0 0 1px #091e4214;\n\t}\n"])),e=>e.focus?"5.25rem":"2.1rem"),ed=h.b.button(Ws||(Ws=Object(j.a)(["\n\tdisplay: ",";\n\tposition: absolute;\n\tborder: none;\n\tbackground-color: #0079bf;\n\tcolor: white;\n\tborder-radius: 3px;\n\tpadding: 0.375rem 0.75rem;\n\tcursor: pointer;\n\tz-index: 123;\n\tbottom: 1rem;\n\tleft: 0.75rem;\n\t&:hover {\n\t\tbackground-color: #026aa7;\n\t}\n\t&:disabled {\n\t\tbackground-color: gray;\n\t\tcursor: not-allowed;\n\t}\n"])),e=>e.show?"block":"none");var td,nd,ad,rd,id,cd,od,sd,dd;const ld=h.b.div(td||(td=Object(j.a)(["\n\tmargin-left: 1rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 1rem;\n"]))),bd=h.b.div(nd||(nd=Object(j.a)(["\n\tpadding-top: 0.3rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1rem;\n"]))),md=h.b.div(ad||(ad=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tgap: 0.3rem;\n\twidth: 100%;\n"]))),jd=h.b.div(rd||(rd=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0.45rem 0rem 0rem 0rem;\n\tdisplay: inline;\n\tcolor: black;\n\tfont-size: 0.85rem;\n\tfont-weight: 800;\n"]))),hd=h.b.div(id||(id=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tposition: relative;\n"]))),gd=h.b.textarea(cd||(cd=Object(j.a)(["\n\tmargin: 0;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tresize: none;\n\toutline: none;\n\tborder-radius: 2px;\n\tbox-shadow: 0 4px 8px -2px #091e4240, 0 0 0 1px #091e4214;\n\theight: 5.25rem;\n\tfont-size: 0.875rem;\n\tpadding: 0.5rem 0.75rem;\n\tborder: 1px solid lightgray;\n\ttransition: 170ms ease-in;\n\tcursor: pointer;\n\t&:read-only {\n\t\tmargin: 0;\n\t\tbox-sizing: border-box;\n\t\twidth: 100%;\n\t\tresize: none;\n\t\toutline: none;\n\t\tborder-radius: 2px;\n\t\theight: 2.2rem;\n\t\tfont-size: 0.875rem;\n\t\tpadding: 0.5rem 0.75rem;\n\t\tborder: 1px solid lightgray;\n\t\ttransition: 170ms ease-in;\n\t\tbox-shadow: none;\n\t}\n"]))),pd=h.b.div(od||(od=Object(j.a)(["\n\tpadding-left: 0.1rem;\n\tdisplay: ",";\n"])),e=>e.show?"block":"none"),ud=h.b.div(sd||(sd=Object(j.a)(["\n\tdisplay: ",";\n\tflex-direction: row;\n\tgap: 0.5rem;\n\tpadding-left: 0.2rem;\n"])),e=>e.show?"flex":"none"),xd=h.b.div(dd||(dd=Object(j.a)(["\n\tfont-size: 0.75rem;\n\tcolor: #5e6c84;\n\ttext-decoration: underline;\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: #172b4d;\n\t}\n"]))),Od={cardId:"",title:"",labels:[],members:[],watchers:[],activities:[],checklists:[],owner:"",description:"",date:{startDate:null,dueDate:null,dueTime:null,completed:!1},attachments:[],cover:{color:null,isSizeOne:null},colors:[{bg:"#61bd4f",hbg:"#519839"},{bg:"#f2d600",hbg:"#d9b51c"},{bg:"#ff9f1a",hbg:"#cd8313"},{bg:"#eb5a46",hbg:"#b04632"},{bg:"#c377e0",hbg:"#89609e"},{bg:"#0079bf",hbg:"#055a8c"},{bg:"#344563",hbg:"#172b4d"},{bg:"#ff78cb",hbg:"#c75bad"}],pending:!1},fd=Object(E.b)({name:"card",initialState:Od,reducers:{reset:e=>Od,setPending:(e,t)=>{e.pending=t.payload},setCard:(e,t)=>{e.cardId=t.payload._id,e.title=t.payload.title,e.labels=t.payload.labels,e.members=t.payload.members,e.watchers=t.payload.watchers,e.activities=t.payload.activities,e.owner=t.payload.owner,e.listTitle=t.payload.listTitle,e.listId=t.payload.listId,e.boardId=t.payload.boardId,e.description=t.payload.description,e.checklists=t.payload.checklists,e.date=t.payload.date,e.attachments=t.payload.attachments,e.cover=t.payload.cover},updateTitle:(e,t)=>{e.title=t.payload},updateDescription:(e,t)=>{e.description=t.payload},addComment:(e,t)=>{e.activities=t.payload},updateComment:(e,t)=>{const{commentId:n,text:a}=t.payload;e.activities=e.activities.map(e=>(e._id===n&&(e.text=a),e))},deleteComment:(e,t)=>{e.activities=e.activities.filter(e=>e._id!==t.payload)},addMember:(e,t)=>{const{memberId:n,memberName:a,memberColor:r}=t.payload;e.members.unshift({user:n,name:a,color:r})},deleteMember:(e,t)=>{const{memberId:n}=t.payload;e.members=e.members.filter(e=>e.user!==n)},createLabel:(e,t)=>{const{_id:n,text:a,color:r,backColor:i}=t.payload;e.labels.unshift({_id:n,text:a,color:r,backColor:i,selected:!0})},updateLabel:(e,t)=>{const{labelId:n,text:a,color:r,backColor:i}=t.payload;e.labels=e.labels.map(e=>(e._id===n&&(e.text=a,e.color=r,e.backColor=i),e))},deleteLabel:(e,t)=>{e.labels=e.labels.filter(e=>e._id!==t.payload)},updateLabelSelection:(e,t)=>{const{labelId:n,selected:a}=t.payload;e.labels=e.labels.map(e=>(e._id===n&&(e.selected=a),e))},updateCreatedLabelId:(e,t)=>{e.labels=e.labels.map(e=>("notUpdated"===e._id&&(e._id=t.payload),e))},createChecklist:(e,t)=>{const{_id:n,title:a}=t.payload;e.checklists.push({_id:n,title:a,items:[]})},updateCreatedChecklist:(e,t)=>{e.checklists=e.checklists.map(e=>("notUpdated"===e._id&&(e._id=t.payload),e))},deleteChecklist:(e,t)=>{e.checklists=e.checklists.filter(e=>e._id!==t.payload)},addChecklistItem:(e,t)=>{const{checklistId:n,_id:a,text:r}=t.payload;e.checklists=e.checklists.map(e=>(e._id.toString()===n.toString()&&e.items.push({_id:a,text:r,completed:!1}),e))},updateAddedChecklistItemId:(e,t)=>{const{checklistId:n,checklistItemId:a}=t.payload;e.checklists=e.checklists.map(e=>(e._id.toString()===n.toString()&&(e.items[e.items.length-1]._id=a),e))},setChecklistItemCompleted:(e,t)=>{const{checklistId:n,checklistItemId:a,completed:r}=t.payload;e.checklists=e.checklists.map(e=>(e._id.toString()===n.toString()&&(e.items=e.items.map(e=>(e._id===a&&(e.completed=r),e))),e))},setChecklistItemText:(e,t)=>{const{checklistId:n,checklistItemId:a,text:r}=t.payload;e.checklists=e.checklists.map(e=>(e._id.toString()===n.toString()&&(e.items=e.items.map(e=>(e._id===a&&(e.text=r),e))),e))},deleteChecklistItem:(e,t)=>{const{checklistId:n,checklistItemId:a}=t.payload;e.checklists=e.checklists.map(e=>(e._id.toString()===n.toString()&&(e.items=e.items.filter(e=>e._id!==a)),e))},updateStartDueDates:(e,t)=>{const{startDate:n,dueDate:a,dueTime:r}=t.payload;e.date.startDate=n,e.date.dueDate=a,e.date.dueTime=r,null===a&&(e.date.completed=!1)},updateDateCompleted:(e,t)=>{e.date.completed=t.payload},addAttachment:(e,t)=>{const{link:n,name:a,_id:r,date:i}=t.payload;e.attachments.push({link:n,name:a,_id:r,date:i})},updateAddedAttachmentId:(e,t)=>{e.attachments=e.attachments.map(e=>("notUpdated"===e._id&&(e._id=t.payload),e))},deleteAttachment:(e,t)=>{e.attachments=e.attachments.filter(e=>e._id!==t.payload)},updateAttachment:(e,t)=>{const{attachmentId:n,link:a,name:r}=t.payload;e.attachments=e.attachments.map(e=>(e._id===n&&(e.link=a,e.name=r),e))},updateCover:(e,t)=>{const{color:n,isSizeOne:a}=t.payload;e.cover.color=n,e.cover.isSizeOne=a}}}),{reset:vd,setPending:wd,setCard:kd,updateTitle:yd,updateDescription:Cd,addComment:Id,updateComment:Sd,deleteComment:zd,addMember:Dd,deleteMember:Md,createLabel:_d,updateLabel:Ld,deleteLabel:Td,updateLabelSelection:Ad,updateCreatedLabelId:Fd,createChecklist:Ed,updateCreatedChecklist:Bd,deleteChecklist:Nd,addChecklistItem:Pd,updateAddedChecklistItemId:Yd,setChecklistItemCompleted:Rd,setChecklistItemText:Hd,deleteChecklistItem:Ud,updateStartDueDates:qd,updateDateCompleted:Wd,addAttachment:Jd,updateAddedAttachmentId:Qd,deleteAttachment:Gd,updateAttachment:Vd,updateCover:Kd}=fd.actions;var Xd=fd.reducer;const Zd="http://localhost:3001/card";let $d=Promise.resolve();const el=async(e,t,n,a,r,i,c)=>{try{c(qd({startDate:a,dueDate:r,dueTime:i})),c(qi({listId:t,cardId:e,startDate:a,dueDate:r,dueTime:i})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/update-dates",{startDate:a,dueDate:r,dueTime:i})),await $d}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}},tl=async(e,t,n,a,r,i)=>{try{i(Kd({color:a,isSizeOne:r})),i(Gi({listId:t,cardId:e,color:a,isSizeOne:r})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/update-cover",{color:a,isSizeOne:r})),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}};var nl,al,rl,il,cl,ol,sl=e=>{const[t,n]=Object(o.useState)(!0),[a,r]=Object(o.useState)(e.text),i=Object(A.d)(e=>e.user.userInfo),c=Object(A.d)(e=>e.card),s=Object(A.c)();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(ld,{children:[Object(k.jsx)(bd,{children:Object(k.jsx)(In.a,{sx:{width:28,height:28,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.userName[0].toUpperCase()})}),Object(k.jsxs)(md,{children:[Object(k.jsx)(jd,{children:e.userName}),Object(k.jsxs)(hd,{children:[Object(k.jsx)(gd,{value:a,onChange:e=>r(e.target.value),readOnly:t}),Object(k.jsx)(pd,{show:!t,children:Object(k.jsx)(Oi,{title:"Guardar",clickCallback:async()=>{n(!0),await(async(e,t,n,a,r,i)=>{try{i(Sd(r,a)),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+r,{text:a})),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(c.cardId,c.listId,c.boardId,a,e._id,s)},closeCallback:()=>{n(!0)}})}),Object(k.jsxs)(ud,{show:t&&i.name===e.userName,children:[Object(k.jsx)(xd,{onClick:()=>n(!1),children:"Editar"}),Object(k.jsx)(xd,{onClick:async()=>{await(async(e,t,n,a,r)=>{try{r(zd(a)),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a)),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(c.cardId,c.listId,c.boardId,e._id,s)},children:"Eliminar"})]})]})]})]})})};const dl=h.b.div(nl||(nl=Object(j.a)(["\n\tmargin-left: 1rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 1rem;\n"]))),ll=h.b.div(al||(al=Object(j.a)(["\n\tpadding-top: 0.5rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1rem;\n"]))),bl=h.b.div(rl||(rl=Object(j.a)(["\n\twidth: 80%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.3rem;\n"]))),ml=h.b.div(il||(il=Object(j.a)(["\n\tdisplay: block;\n\tpadding-top: 0.5rem;\n\tfont-size: 0.875rem;\n\tword-wrap: break-word;\n\twidth: 100%;\n"]))),jl=h.b.div(cl||(cl=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0.45rem 0rem 0rem 0rem;\n\tdisplay: inline;\n\tcolor: black;\n\tfont-size: 0.8755rem;\n\tfont-weight: 800;\n"]))),hl=h.b.div(ol||(ol=Object(j.a)(["\n\tfont-size: 0.75rem;\n\tcolor: #5e6c84;\n"])));var gl=()=>{const e=Object(A.d)(e=>e.card);return Object(k.jsx)(k.Fragment,{children:e.activities.map((e,t)=>{if(!e.isComment)return Object(k.jsxs)(dl,{children:[Object(k.jsx)(ll,{children:Object(k.jsx)(In.a,{sx:{width:28,height:28,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.userName[0].toUpperCase()})}),Object(k.jsxs)(bl,{children:[Object(k.jsxs)(ml,{children:[Object(k.jsx)(jl,{children:e.userName})," ",e.text]}),Object(k.jsx)(hl,{children:qc()(e.date).format("MMMM Do YYYY, h:mm:ss a")})]})]},t)})})};var pl,ul,xl=()=>{const e=Object(A.c)(),t=Object(o.useRef)(),n=Object(A.d)(e=>e.card),a=Object(A.d)(e=>e.user),[r,i]=Object(o.useState)(!1),[c,s]=Object(o.useState)(""),[d,l]=Object(o.useState)(!1),b=e=>{t.current&&!t.current.contains(e.target)?i(!1):i(!0)};return Object(o.useEffect)(()=>(document.addEventListener("click",b,!0),()=>{document.removeEventListener("click",b,!0)})),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(Qs,{children:[Object(k.jsxs)(Gs,{children:[Object(k.jsx)(_c.a,{fontSize:"small"}),Object(k.jsx)(In.a,{sx:{width:28,height:28,bgcolor:a.userInfo.color,fontSize:"0.875rem",fontWeight:"800"},children:a.userInfo.name[0].toUpperCase()})]}),Object(k.jsxs)(Vs,{children:[Object(k.jsxs)(Ks,{children:[Object(k.jsx)(Xs,{children:"Actividad"}),Object(k.jsx)(No,{clickCallback:()=>l(e=>!e),title:d?"ocultar detalles":"mostrar detalles"})]}),Object(k.jsxs)(Zs,{ref:t,children:[Object(k.jsx)(ed,{disabled:!c,onClick:async()=>{await(async(e,t,n,a,r,i)=>{try{i(wd(!0));let r="";$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/add-comment",{text:a}).then(e=>{r=e})),await $d,i(Id(r.data)),i(wd(!1))}catch(s){var c,o;i(wd(!1)),i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,c,a.name,e),s("")},show:r,children:"Guardar"}),Object(k.jsx)($s,{value:c,onChange:e=>s(e.target.value),focus:r,placeholder:"escribir comentario"})]})]})]}),n.activities.map(e=>{if(e.isComment)return Object(k.jsx)(sl,Object(T.a)({},e),e._id)}),d&&Object(k.jsx)(gl,{})]})};const Ol=h.b.div(pl||(pl=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tgap: 0.5rem;\n\tpadding: 0rem 1rem 1rem 1rem;\n"]))),fl=h.b.div(ul||(ul=Object(j.a)(["\n\tcolor: #5e6c84;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"])));var vl,wl,kl,yl,Cl,Il,Sl,zl=n(182),Dl=n.n(zl),Ml=n(75),_l=n.n(Ml),Ll=n(183),Tl=n.n(Ll),Al=n(184),Fl=n.n(Al),El=n(115),Bl=n.n(El),Nl=n(78),Pl=n.n(Nl),Yl=n(178),Rl=n.n(Yl);const Hl=h.b.div(vl||(vl=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: center;\n\tgap: 0.5rem;\n\tpadding-bottom: 1rem;\n"]))),Ul=h.b.input(wl||(wl=Object(j.a)(["\n\twidth: 100%;\n\theight: 2rem;\n\tborder: 2px solid rgba(0, 0, 0, 0.1);\n\tborder-radius: 3px;\n\tpadding-left: 0.5rem;\n\toutline: none;\n\tbackground-color: rgba(0, 0, 0, 0.02);\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n\t&:focus {\n\t\tborder: 2px solid #0079bf;\n\t\tbackground-color: #fff;\n\t}\n"]))),ql=h.b.div(kl||(kl=Object(j.a)(["\n\tcolor: #5e6c84;\n\tmargin-top: 0.3rem;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]))),Wl=h.b.div(yl||(yl=Object(j.a)(["\n\twidth: 100%;\n\tbackground-color: transparent;\n\tborder-radius: 3px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 0.5rem;\n\talign-items: center;\n\tpadding: 0.5rem;\n"]))),Jl=h.b.div(Cl||(Cl=Object(j.a)(["\n\tflex: 1;\n"]))),Ql=h.b.button(Il||(Il=Object(j.a)(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: none;\n\tbackground: transparent;\n\tcursor: pointer;\n\tpadding: 4px 8px;\n\tborder-radius: 4px;\n\tfont-size: 0.75rem;\n\tfont-weight: 600;\n\tcolor: ",";\n\t&:hover {\n\t\tbackground: rgba(0, 0, 0, 0.08);\n\t}\n"])),e=>e.color||"#333"),Gl=Object(h.b)(Ql)(Sl||(Sl=Object(j.a)(["\n\tcolor: #a23b3b;\n\t&:hover {\n\t\tbackground: rgba(162, 59, 59, 0.08);\n\t}\n"]))),Vl=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),a=Object(A.d)(e=>e.board.id),r=n.members.some(t=>t.user===e.user);return Object(k.jsxs)(Wl,{children:[Object(k.jsx)(In.a,{sx:{width:28,height:28,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.name[0].toUpperCase()}),Object(k.jsx)(Jl,{children:e.name}),Object(k.jsxs)(Ql,{onClick:async()=>{r?await(async(e,t,n,a,r,i)=>{try{i(Md({memberId:a})),i(Li({listId:t,cardId:e,memberId:a})),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/delete-member")),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e.user,e.name,t):await(async(e,t,n,a,r,i,c)=>{try{c(Dd({memberId:a,memberName:r,memberColor:i})),c(_i({listId:t,cardId:e,memberId:a,memberName:r,memberColor:i})),$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/add-member",{memberId:a})),await $d}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e.user,e.name,e.color,t)},color:r?"#0079bf":"#3b873e",children:[r?"Quitar de la tarjeta":"Agregar a la tarjeta",r&&Object(k.jsx)(Pl.a,{fontSize:"small",style:{marginLeft:4}})]}),"owner"!==e.role&&Object(k.jsx)(Gl,{title:"Eliminar del tablero",onClick:async()=>{await(async(e,t,n)=>{try{const a=await F.a.delete("".concat(Xi,"/").concat(e,"/remove-member"),{data:t});await n(Et(a.data)),n(ee({message:"Member removed from this board successfully",severity:"success"}))}catch(i){var a,r;n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(a,{memberId:e.user},t)},children:Object(k.jsx)(Rl.a,{fontSize:"small"})})]})};var Kl,Xl,Zl,$l,eb,tb,nb,ab,rb,ib,cb,ob,sb=()=>{const e=Object(A.d)(e=>e.board.members);return Object(k.jsxs)(Hl,{children:[Object(k.jsx)(Ul,{placeholder:"Search member..."}),Object(k.jsx)(ql,{children:"Miembros del tablero"}),e.map(e=>Object(k.jsx)(Vl,Object(T.a)({},e),e.user))]})},db=n(179),lb=n.n(db);const bb=h.b.div(Kl||(Kl=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tpadding-bottom: 0.5rem;\n\tflex-direction: column;\n\tgap: 0.2rem;\n"]))),mb=h.b.div(Xl||(Xl=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 0.3rem;\n\twidth: 100%;\n\theight: fit-content;\n"]))),jb=h.b.div(Zl||(Zl=Object(j.a)(["\n\tbox-sizing: border-box;\n\tcursor: pointer;\n\tflex: 5;\n\theight: 2rem;\n\twidth: 100%;\n\tpadding: 0rem 1rem 0rem 1rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\ttext-align: left;\n\tcolor: white;\n\tborder-radius: 3px;\n\tbackground-color: ",";\n\ttransition: 150ms ease-in;\n\t&:hover {\n\t\tbox-shadow: -5px 0 ",";\n\t}\n"])),e=>e.bg,e=>e.hbg),hb=h.b.div($l||($l=Object(j.a)(["\n\tfont-size: 0.875rem;\n\tcolor: white;\n\tfont-weight: 800;\n"]))),gb=h.b.div(eb||(eb=Object(j.a)(["\n\theight: 2rem;\n\twidth: 2rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tcolor: #42526e;\n\ttransition: 100ms ease-in;\n\t&:hover {\n\t\tcolor: #091e42;\n\t\tbackground-color: rgba(0, 0, 0, 0.065);\n\t}\n"]))),pb=h.b.input(tb||(tb=Object(j.a)(["\n\twidth: 100%;\n\theight: 2rem;\n\tborder: 2px solid rgba(0, 0, 0, 0.1);\n\tborder-radius: 3px;\n\tpadding-left: 0.5rem;\n\toutline: none;\n\tfont-size: 0.875rem;\n\tbackground-color: rgba(0, 0, 0, 0.02);\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n\t&:focus {\n\t\tborder: 2px solid #0079bf;\n\t\tbackground-color: #fff;\n\t}\n"]))),ub=h.b.div(nb||(nb=Object(j.a)(["\n\tcolor: #5e6c84;\n\tmargin-top: 0.3rem;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]))),xb=h.b.div(ab||(ab=Object(j.a)(["\n\twidth: 100%;\n\theight: fit-content;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tflex-wrap: wrap;\n\tgap: 0.3rem;\n"]))),Ob=h.b.div(rb||(rb=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 2rem;\n\twidth: 23%;\n\tcolor: white;\n\tborder-radius: 3px;\n\tbackground-color: ",";\n\tcursor: pointer;\n\ttransition: 150ms ease-in;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),e=>e.bg,e=>e.hbg),fb=h.b.div(ib||(ib=Object(j.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]))),vb=h.b.button(cb||(cb=Object(j.a)(["\n\tborder: none;\n\tborder-radius: 3px;\n\tbackground-color: #0079bf;\n\tfont-size: 0.875rem;\n\theight: 2rem;\n\tcolor: white;\n\twidth: 6rem;\n\tcursor: pointer;\n\tmargin-top: 0.5rem;\n\ttransition: 150ms ease-in;\n\t&:hover {\n\t\tbackground-color: #026aa7;\n\t\tcolor: white;\n\t}\n\t&:active {\n\t\tbackground-color: #055a8c;\n\t}\n"]))),wb=Object(h.b)(vb)(ob||(ob=Object(j.a)(["\n\tbackground-color: #b04632;\n\t&:hover {\n\t\tbackground-color: #933b27;\n\t}\n\t&:active {\n\t\tbackground-color: #6e2f1a;\n\t}\n"])));var kb=e=>{const{currentPage:t}=e,n=Object(A.c)(),a=Object(A.d)(e=>e.card),[r,i]=Object(o.useState)({_id:"",color:"",text:"",backColor:""}),c=a.colors,s=async(t,r,i)=>{e.arrowCallback(!1),e.titleCallback("Labels"),await(async(e,t,n,a,r,i,c)=>{try{c(_d({_id:"notUpdated",text:a,color:r,backColor:i,selected:!0}));let o="";$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/create-label",{text:a,color:r,backColor:i}).then(e=>{o=e})),await $d,c(Fd(o.data.labelId)),c(Ei({listId:t,cardId:e,_id:o.data.labelId,text:a,color:r,backColor:i,selected:!0}))}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}})(a.cardId,a.listId,a.boardId,t,r,i,n)},d=async(t,r,i,c)=>{e.arrowCallback(!1),e.titleCallback("Labels"),await(async(e,t,n,a,r,i)=>{try{i(Ld({labelId:a,text:r.text,color:r.color,backColor:r.backColor})),i(Fi({listId:t,cardId:e,labelId:a,text:r.text,color:r.color,backColor:r.backColor})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/update-label",r)),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(a.cardId,a.listId,a.boardId,t,{text:r,color:i,backColor:c},n)},l=async(e,t)=>{await(async(e,t,n,a,r,i)=>{try{i(Ad({labelId:a,selected:r})),i(Ai({listId:t,cardId:e,labelId:a,selected:r})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/update-label-selection",{selected:r})),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(a.cardId,a.listId,a.boardId,e,t,n)},b=async t=>{e.arrowCallback(!1),e.titleCallback("Labels"),await(async(e,t,n,a,r)=>{try{r(Td(a)),r(Bi({listId:t,cardId:e,labelId:a})),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/delete-label")),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(a.cardId,a.listId,a.boardId,t,n)},m=e=>Object(k.jsxs)(mb,{children:[Object(k.jsxs)(jb,{bg:e.color,hbg:e.backColor,onClick:()=>{l(e._id,!e.selected)},children:[Object(k.jsx)(hb,{children:e.text}),e.selected&&Object(k.jsx)(Pl.a,{fontSize:"1rem"})]}),Object(k.jsx)(gb,{onClick:()=>{i({_id:e._id,color:e.color,text:e.text,backColor:e.backColor}),e.arrowCallback(!0),e.titleCallback("Change")},children:Object(k.jsx)(lb.a,{color:"#091e42",fontSize:"1rem"})})]}),j=Object(k.jsxs)(bb,{children:[Object(k.jsx)(pb,{placeholder:"Search labels..."}),Object(k.jsx)(ub,{children:"Labels"}),a.labels.map(t=>Object(k.jsx)(m,Object(T.a)(Object(T.a)({},t),{},{arrowCallback:e.arrowCallback,titleCallback:e.titleCallback}),t._id)),Object(k.jsx)("br",{}),Object(k.jsx)(No,{clickCallback:()=>{e.arrowCallback(!0),e.titleCallback("Create")},title:"Create a new label"})]}),h=()=>{const[e,t]=Object(o.useState)(""),[a,r]=Object(o.useState)("#0079bf"),[i,d]=Object(o.useState)("#055a8c");return Object(k.jsxs)(bb,{children:[Object(k.jsx)(ub,{children:"Name"}),Object(k.jsx)(pb,{placeholder:"Name...",value:e,onChange:e=>t(e.target.value)}),Object(k.jsx)(ub,{children:"Select a color"}),Object(k.jsx)(xb,{children:c.map(e=>Object(k.jsx)(Ob,{bg:e.bg,hbg:e.hbg,onClick:()=>{r(e.bg),d(e.hbg)},children:e.bg===a&&Object(k.jsx)(Pl.a,{fontSize:"1rem"})},e.bg))}),Object(k.jsx)(fb,{children:Object(k.jsx)(vb,{onClick:()=>{e&&a&&i?s(e,a,i):n(ee({severity:"error",message:"Please fill all required areas!"}))},children:"Create"})})]})},g=()=>{const[e,t]=Object(o.useState)(r.text),[a,i]=Object(o.useState)(r.color),[s,l]=Object(o.useState)(r.backColor);return Object(k.jsxs)(bb,{children:[Object(k.jsx)(ub,{children:"Name"}),Object(k.jsx)(pb,{placeholder:"Name...",value:e,onChange:e=>t(e.target.value)}),Object(k.jsx)(ub,{children:"Select a color"}),Object(k.jsx)(xb,{children:c.map(e=>Object(k.jsx)(Ob,{bg:e.bg,hbg:e.hbg,onClick:()=>{i(e.bg),l(e.hbg)},children:a===e.bg&&Object(k.jsx)(Pl.a,{fontSize:"1rem"})},e.bg))}),Object(k.jsxs)(fb,{children:[Object(k.jsx)(vb,{onClick:()=>{e&&a&&s?d(r._id,e,a,s):n(ee({severity:"error",message:"Please fill all required areas!"}))},children:"Save"}),Object(k.jsx)(wb,{onClick:()=>b(r._id),children:" Delete"})]})]})};return Object(k.jsx)(k.Fragment,{children:"Labels"===t?j:"Create"===t?Object(k.jsx)(h,{}):Object(k.jsx)(g,{})})};var yb,Cb,Ib,Sb,zb,Db,Mb,_b=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),[a,r]=Object(o.useState)("");return Object(k.jsxs)(bb,{children:[Object(k.jsx)(ub,{children:"T\xedtulo"}),Object(k.jsx)(pb,{placeholder:"T\xedtulo...",value:a,onChange:e=>r(e.target.value)}),Object(k.jsx)(fb,{children:Object(k.jsx)(vb,{style:{width:"4rem"},onClick:async()=>{e.closeCallback(),await(async(e,t,n,a,r)=>{try{r(Ed({_id:"notUpdated",title:a}));let i="";$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/create-checklist",{title:a}).then(e=>{i=e})),await $d,r(Bd(i.data.checklistId)),r(Ni({listId:t,cardId:e,_id:i.data.checklistId,title:a}))}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,a,t)},children:"Agregar"})})]})};const Lb=h.b.div(yb||(yb=Object(j.a)(["\nheight: fit-content;\nwidth:14rem;\ndisplay: flex;\nflex-direction: column;\ngap: 1rem;\n"]))),Tb=h.b.div(Cb||(Cb=Object(j.a)(["\ndisplay:flex;\nwidth:100%;\nalign-items:center;\njustify-content:center;\n"]))),Ab=h.b.div(Ib||(Ib=Object(j.a)(["\ndisplay:flex;\nflex-direction:column;\ngap:0.5rem;\n"]))),Fb=h.b.div(Sb||(Sb=Object(j.a)(["\ndisplay:flex;\nflex-direction:row;\nalign-items:center;\njustify-content: flex-start;\ngap: 0.5rem;\nmargin-top: -0.4rem;\n"]))),Eb=h.b.input(zb||(zb=Object(j.a)(["\nheight: 1.85rem;\nwidth: 40%;\nborder: ",";\noutline: none;\nborder-radius: 3px;\nfont-size: 0.875rem;\npadding: 0.3rem 0rem 0.3rem 0.3rem;\ncursor: text;\nbackground-color:",";\n&::-webkit-inner-spin-button,\n&::-webkit-calendar-picker-indicator {\n    display: none;    \n    -webkit-appearance: none;\n}\n&:hover{\n    background-color:",";\n}\n&:read-only{\n    cursor: not-allowed;\n    background-color: #EBECF0;\n    border-color: #EBECF0;\n    color: #b4bac5;\n}\n"])),e=>e.focus?"2px solid #0079bf":"2px solid lightgray",e=>e.focus?"#fff":"#fafbfc",e=>e.focus?void 0:"#ebecf0"),Bb=Object(h.b)(ub)(Db||(Db=Object(j.a)(["\ncolor : ",";\n"])),e=>e.focus?"#0079BF":"#5e6c84"),Nb=h.b.button(Mb||(Mb=Object(j.a)(["\nmargin-top: 1rem;\nbackground-color: #0079b0;\ncolor: #fff;\nborder-radius: 3px;\nborder:none;\ncursor: pointer;\npadding: 0.375rem;\n&:hover{\n    background-color: #026aa7;\n}\n&:active{\n    background-color: #055a8c\n}\n"])));var Pb,Yb=n(180),Rb=n(181),Hb=n.n(Rb);const Ub=h.b.div(Pb||(Pb=Object(j.a)(["\n\tdisplay: ",";\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-left: 0.1rem;\n\theight: 1rem;\n\twidth: 1rem;\n\tborder-radius: 3px;\n\tborder: ",";\n\tbackground-color: ",";\n\tcursor: pointer;\n\ttransition: 200ms ease-in;\n\tcolor: white;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),e=>e.hidden?"none":"flex",e=>e.checked?"2px solid #4b94bf":"2px solid lightgray",e=>e.checked?"#4b94bf":"rgba(255,255,255,0.9)",e=>e.checked?"#5ba4cf":"rgba(0,0,0,0.1)");var qb=e=>{const{checked:t,clickCallback:n,hidden:a}=e;return Object(k.jsx)(Ub,{checked:t,onClick:()=>{n(!t)},hidden:a,children:t&&Object(k.jsx)(Hb.a,{fontSize:"0.1rem"})})};var Wb,Jb=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),[a,r]=Object(o.useState)([{startDate:null!==n.date.startDate?qc()(n.date.startDate).toDate():null!==n.date.dueDate?qc()(n.date.dueDate).toDate():new Date,endDate:null!==n.date.dueDate?qc()(n.date.dueDate).toDate():null!==n.date.startDate?qc()(n.date.startDate).toDate():new Date,key:"selection"}]),[i,c]=Object(o.useState)(null!=n.date.startDate&&n.date.startDate),[s,d]=Object(o.useState)(null!=n.date.dueDate&&n.date.dueDate),[l,b]=Object(o.useState)(!1),[m,j]=Object(o.useState)(!1),[h,g]=Object(o.useState)(n.date.dueDate?n.date.dueTime:qc()(new Date).format("HH:mm")),[p,u]=Object(o.useState)(null!=n.date.startDate?n.date.startDate:qc()(a[0].startDate).format("YYYY-MM-DD")),[x,O]=Object(o.useState)(null!=n.date.dueDate?n.date.dueDate:qc()(a[0].endDate).format("YYYY-MM-DD"));Object(o.useEffect)(()=>{u(qc()(a[0].startDate).format("YYYY-MM-DD")),O(qc()(a[0].endDate).format("YYYY-MM-DD"))},[a]);const f=()=>{const e=qc()(p).toDate(),n=qc()(x).toDate();if(e>n)return t(ee({message:"Due date cannot be smaller then start date!",severity:"error"})),u(qc()(a[0].startDate).format("YYYY-MM-DD")),void O(qc()(a[0].endDate).format("YYYY-MM-DD"));r([{startDate:e,endDate:n,key:"selection"}])};return Object(k.jsxs)(Lb,{children:[Object(k.jsx)(Tb,{children:Object(k.jsx)(Yb.DateRange,{editableDateInputs:!1,onChange:e=>{i&&s?r([e.selection]):a[0].startDate!==e.selection.startDate?r([{startDate:e.selection.startDate,endDate:e.selection.startDate,key:"selection"}]):r([{startDate:e.selection.endDate,endDate:e.selection.endDate,key:"selection"}])},format:"DD/MM/yyyy",showPreview:!(!i||!s),moveRangeOnFirstSelection:!1,ranges:a})}),Object(k.jsxs)(Ab,{children:[Object(k.jsx)(Bb,{focus:l,children:"Start Date"}),Object(k.jsxs)(Fb,{children:[Object(k.jsx)(qb,{checked:i,clickCallback:()=>c(e=>(b(!e),s&&j(e),e&&r([{startDate:qc()(x).toDate(),endDate:qc()(x).toDate(),key:"selection"}]),!e))}),Object(k.jsx)(Eb,{onClick:()=>{b(!0),j(!1)},focus:l,readOnly:!i,value:i?p:"",onChange:e=>{u(e.target.value)},onBlur:f,onFocus:()=>{b(!0),j(!1)},type:i?"date":"text",placeholder:"dd.mm.yyyy"})]}),Object(k.jsx)(Bb,{focus:m,children:"Due Date"}),Object(k.jsxs)(Fb,{children:[Object(k.jsx)(qb,{checked:s,clickCallback:()=>d(e=>(j(!e),i&&b(e),e&&r([{startDate:qc()(p).toDate(),endDate:qc()(p).toDate(),key:"selection"}]),!e))}),Object(k.jsx)(Eb,{onClick:()=>{b(!1),j(!0)},focus:m,readOnly:!s,value:s?x:"",onChange:e=>{O(e.target.value)},onBlur:f,onFocus:()=>{b(!1),j(!0)},type:s?"date":"text",placeholder:"dd.mm.yyyy"}),Object(k.jsx)(Eb,{onClick:()=>{b(!1),j(!0)},focus:m,onFocus:()=>{b(!1),j(!0)},readOnly:!s,style:{width:"23.5%"},value:s?h:"",onChange:e=>g(e.target.value),type:s?"time":"text",placeholder:"hh:mm"})]}),Object(k.jsx)(Nb,{onClick:async()=>{e.closeCallback(),await el(n.cardId,n.listId,n.boardId,i?p:null,s?x:null,s?h:null,t)},children:"Save"}),Object(k.jsx)(No,{clickCallback:async()=>{e.closeCallback(),await el(n.cardId,n.listId,n.boardId,null,null,null,t)},title:"Remove"})]})]})};const Qb=h.b.div(Wb||(Wb=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: center;\n\theight: fit-content;\n\twidth: 100%;\n\tpadding-bottom: 0.5rem;\n\tgap: 0.2rem;\n"])));var Gb,Vb,Kb,Xb,Zb,$b,em,tm,nm,am,rm=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),[a,r]=Object(o.useState)(""),[i,c]=Object(o.useState)(""),[d,l]=Object(o.useState)(null),[b,m]=Object(o.useState)(""),j=s.a.useRef();return Object(k.jsxs)(Qb,{children:[Object(k.jsx)(ub,{children:"Adjuntar enlace"}),Object(k.jsx)(pb,{placeholder:"Pegue su enlace aqui",value:a,onChange:e=>r(e.target.value)}),a&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ub,{style:{marginTop:"0.7rem"},children:"Nombre del enlace (opcional)"}),Object(k.jsx)(pb,{value:i,onChange:e=>c(e.target.value)})]}),Object(k.jsx)(No,{style:{marginTop:"1rem"},title:"Adjuntar",clickCallback:async()=>{r(""),c(""),await(async(e,t,n,a,r,i)=>{try{i(Jd({link:a,name:r,_id:"notUpdated",date:Date()}));let c="";$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/add-attachment",{link:a,name:r}).then(e=>{c=e})),await $d,i(Qd(c.data.attachmentId)),i(Ji({listId:t,cardId:e,link:a,name:r,_id:c.data.attachmentId,date:Date()}))}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,new RegExp(/^https?:\/\//).test(a)?a:"http://"+a,i,t)}}),Object(k.jsx)(ub,{style:{marginTop:"1rem"},children:"Adjuntar PDF"}),Object(k.jsx)("input",{ref:j,type:"file",accept:"application/pdf",onChange:e=>{const t=e.target.files&&e.target.files[0]?e.target.files[0]:null;t?(l(t),m(t.name)):(l(null),m(""))},style:{marginTop:"0.5rem"}}),d&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ub,{style:{marginTop:"0.7rem"},children:"Nombre del archivo (opcional)"}),Object(k.jsx)(pb,{value:b,onChange:e=>m(e.target.value)})]}),Object(k.jsx)(No,{style:{marginTop:"0.8rem",padding:"0.6rem 1.2rem",backgroundColor:d?"#1976d2":"#b0bec5",color:"#fff",fontWeight:600,borderRadius:"8px",cursor:d?"pointer":"not-allowed",transition:"all 0.3s ease",boxShadow:d?"0 3px 6px rgba(0,0,0,0.15)":"none"},title:"Subir PDF",clickCallback:async()=>{d&&(await(async(e,t,n,a,r,i)=>{try{let c="";const o=new FormData;o.append("file",a),r&&o.append("name",r),$d=$d.then(()=>F.a.post("".concat(Zd,"/").concat(n,"/").concat(t,"/").concat(e,"/upload-attachment"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{c=e})),await $d;const{attachmentId:s,link:d,name:l}=c.data;i(Qd(s)),i(Ji({listId:t,cardId:e,link:d,name:l,_id:s,date:Date()}))}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,d,b,t),l(null),m(""),j&&j.current&&(j.current.value=""))},disabled:!d})]})};const im=h.b.div(Gb||(Gb=Object(j.a)(["\n\theight: 4rem;\n\twidth: 100%;\n\tborder: 2px solid ",";\n\tborder-radius: 5px;\n\tpadding: 1px;\n"])),e=>e.selected?"#0079bf":"#fff"),cm=h.b.div(Vb||(Vb=Object(j.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tborder: 1px solid rgba(9, 30, 66, 0.08);\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),om=h.b.div(Kb||(Kb=Object(j.a)(["\n\twidth: 100%;\n\tbackground-color: ",";\n\theight: 1.75rem;\n\tborder-radius: 3px 3px 0px 0px;\n"])),e=>e.top),sm=h.b.div(Xb||(Xb=Object(j.a)(["\n\tpadding: 0.4rem 0.3rem 0.2rem 0.3rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.2rem;\n"]))),dm=h.b.div(Zb||(Zb=Object(j.a)(["\n\twidth: 100%;\n\theight: 0.25rem;\n\tborder-radius: 3px;\n\tbackground-color: ",";\n"])),e=>e.primary),lm=Object(h.b)(dm)($b||($b=Object(j.a)(["\n\twidth: 75%;\n"]))),bm=h.b.div(em||(em=Object(j.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n"]))),mm=h.b.div(tm||(tm=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\twidth: fit-content;\n\tgap: 0.1rem;\n"]))),jm=h.b.div(nm||(nm=Object(j.a)(["\n\twidth: 1rem;\n\theight: 0.3rem;\n\tborder-radius: 5px;\n\tbackground-color: ","; //6b778c\n"])),e=>e.primary),hm=h.b.div(am||(am=Object(j.a)(["\n\theight: 0.5rem;\n\twidth: 0.5rem;\n\tborder-radius: 50%;\n\tbackground-color: ",";\n"])),e=>e.primary);var gm,pm,um,xm,Om=e=>{const[t,n]=Object(o.useState)({top:e.selected?e.color:"#CED2DA",primary:e.selected?"#6b778c":"#CED2DA"});return Object(o.useEffect)(()=>{n({top:e.color?e.color:"#CED2DA",primary:e.color?"#6b778c":"#CED2DA"})},[e.color,e.selected]),Object(k.jsx)(im,{selected:e.selected,children:Object(k.jsxs)(cm,{children:[Object(k.jsx)(om,{top:t.top}),Object(k.jsxs)(sm,{children:[Object(k.jsx)(dm,{primary:t.primary}),Object(k.jsx)(lm,{primary:t.primary}),Object(k.jsxs)(bm,{children:[Object(k.jsxs)(mm,{children:[Object(k.jsx)(jm,{primary:t.primary}),Object(k.jsx)(jm,{})]}),Object(k.jsx)(hm,{primary:t.primary})]})]})]})})};const fm=h.b.div(gm||(gm=Object(j.a)(["\n\theight: 4rem;\n\twidth: 100%;\n    border: 2px solid ",";\t    \n    border-radius: 5px;\n    padding:1px;    \n"])),e=>e.selected?"#0079bf":"#fff"),vm=h.b.div(pm||(pm=Object(j.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tborder: 1px solid rgba(9, 30, 66, 0.08);\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n    justify-content: flex-end;\n    padding: 0rem 0.5rem 0.3rem 0.5rem;\n    gap: 0.25rem;\n    background-color: ",";\n"])),e=>e.top),wm=h.b.div(um||(um=Object(j.a)(["\n\twidth: 100%;\n\theight: 0.25rem;\n\tborder-radius: 3px;\n\tbackground-color: ",";\n"])),e=>e.primary),km=Object(h.b)(wm)(xm||(xm=Object(j.a)(["\n\twidth: 75%;\n"])));var ym,Cm,Im,Sm=e=>{const[t,n]=Object(o.useState)({top:e.color?e.color:"#CED2DA",primary:e.color?"#6b778c":"#fff"});return Object(o.useEffect)(()=>{n({top:e.color?e.color:"#CED2DA",primary:e.color?"#6b778c":"#fff"})},[e.color,e.selected]),Object(k.jsx)(fm,{selected:e.selected,children:Object(k.jsxs)(vm,{top:t.top,children:[Object(k.jsx)(wm,{primary:t.primary}),Object(k.jsx)(km,{primary:t.primary})]})})};const zm=Object(h.b)(Ob)(ym||(ym=Object(j.a)(["\n\tborder: 2px solid ",";\n\tborder-radius: 3px;\n"])),e=>e.selected?"#0079bf":"transparent"),Dm=h.b.div(Cm||(Cm=Object(j.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\theight: fit-content;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: start;\n\tgap: 0.5rem;\n"]))),Mm=h.b.div(Im||(Im=Object(j.a)(["\n\tflex: 1;\n\twidth: 100%;\n\theight: fit-content;\n\tcursor: ",";\n"])),e=>e.show?"pointer":"default");var _m=()=>{const e=Object(A.c)(),t=Object(A.d)(e=>e.card),n=async(n,a)=>{await tl(t.cardId,t.listId,t.boardId,n,a,e)};return Object(k.jsxs)(bb,{children:[Object(k.jsx)(ub,{children:"Size"}),Object(k.jsxs)(Dm,{children:[Object(k.jsx)(Mm,{onClick:()=>n(t.cover.color,!0),show:t.cover.color,children:Object(k.jsx)(Om,{selected:t.cover.color&&null!==t.cover.isSizeOne&&t.cover.isSizeOne,color:t.cover.color})}),Object(k.jsx)(Mm,{onClick:()=>n(t.cover.color,!1),show:t.cover.color,children:Object(k.jsx)(Sm,{selected:t.cover.color&&null!==t.cover.isSizeOne&&!t.cover.isSizeOne,color:t.cover.color})})]}),Object(k.jsx)(ub,{children:"Colors"}),Object(k.jsx)(xb,{children:t.colors.map(e=>Object(k.jsx)(zm,{onClick:()=>{n(e.bg,null===t.cover.isSizeOne||t.cover.isSizeOne)},selected:t.cover.color===e.bg,bg:e.bg,hbg:e.hbg},e.bg))}),Object(k.jsx)(No,{title:"Eliminar",style:{marginTop:"1rem"},clickCallback:async()=>{await tl(t.cardId,t.listId,t.boardId,null,null,e)}})]})};var Lm,Tm,Am,Fm,Em,Bm,Nm,Pm,Ym,Rm,Hm,Um=()=>{const[e,t]=s.a.useState(null),[n,a]=s.a.useState(null),[r,i]=s.a.useState(null),[c,o]=s.a.useState(null),[d,l]=s.a.useState(null),[b,m]=s.a.useState(null),[j,h]=s.a.useState(!1),[g,p]=s.a.useState("Labels");return Object(k.jsxs)(Ol,{children:[Object(k.jsx)(fl,{children:"Agregar a la tarjeta"}),Object(k.jsx)(As,{clickCallback:e=>t(e.currentTarget),title:"Miembros",icon:Object(k.jsx)(ji.a,{fontSize:"small"})}),e&&Object(k.jsx)(So,{anchorElement:e,closeCallback:()=>{t(null)},title:"Miembros",contents:Object(k.jsx)(sb,{})}),Object(k.jsx)(As,{clickCallback:e=>a(e.currentTarget),title:"Etiquetas",icon:Object(k.jsx)(Dl.a,{fontSize:"small"})}),n&&Object(k.jsx)(So,{anchorElement:n,closeCallback:()=>{a(null),p("Etiquetas"),h(!1)},title:g,backClick:()=>{p("Etiquetas"),h(!1)},backArrow:j,contents:Object(k.jsx)(kb,{currentPage:g,titleCallback:e=>p(e),arrowCallback:e=>{h(e)}})}),Object(k.jsx)(As,{clickCallback:e=>i(e.currentTarget),title:"Checklist",icon:Object(k.jsx)(_l.a,{fontSize:"small"})}),r&&Object(k.jsx)(So,{anchorElement:r,closeCallback:()=>{i(null)},title:"Checklist",contents:Object(k.jsx)(_b,{closeCallback:()=>{i(null)}})}),Object(k.jsx)(As,{clickCallback:e=>o(e.currentTarget),title:"Fecha",icon:Object(k.jsx)(Tl.a,{fontSize:"small"})}),c&&Object(k.jsx)(So,{anchorElement:c,closeCallback:()=>{o(null)},title:"Fecha",contents:Object(k.jsx)(Jb,{closeCallback:()=>{o(null)}})}),Object(k.jsx)(As,{clickCallback:e=>l(e.currentTarget),title:"Adjuntos",icon:Object(k.jsx)(Fl.a,{fontSize:"small"})}),d&&Object(k.jsx)(So,{anchorElement:d,closeCallback:()=>{l(null)},title:"Adjuntar desde...",contents:Object(k.jsx)(rm,{closeCallback:()=>{l(null)}})}),Object(k.jsx)(As,{title:"Portada",clickCallback:e=>m(e.currentTarget),icon:Object(k.jsx)(Bl.a,{fontSize:"small"})}),b&&Object(k.jsx)(So,{anchorElement:b,closeCallback:()=>{m(null)},title:"Portada",contents:Object(k.jsx)(_m,{closeCallback:()=>{m(null)}})})]})};const qm=h.b.div(Lm||(Lm=Object(j.a)(["\n\tpadding-left: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n\twidth: 100%;\n\theight: fit-content;\n\tmargin-bottom: 1rem;\n"]))),Wm=h.b.div(Tm||(Tm=Object(j.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 1rem;\n\tcursor: ",";\n\ttransition: 150ms ease-in;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),e=>e.showHover?"pointer":"default",e=>e.showHover?"rgba(0,0,0,0.02)":"transparent"),Jm=h.b.div(Am||(Am=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\twidth: 2rem;\n"]))),Qm=h.b.div(Fm||(Fm=Object(j.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-direction: row;\n\talign-items: center;\n\tgap: 0.5rem;\n\tjustify-content: space-between;\n"]))),Gm=h.b.div(Em||(Em=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0.2rem 0rem 0rem 0rem;\n\tdisplay: inline;\n\tcolor: black;\n\tfont-size: 1rem;\n\tfont-weight: 800;\n"]))),Vm=h.b.div(Bm||(Bm=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tgap: 0.5rem;\n"]))),Km=h.b.div(Nm||(Nm=Object(j.a)(["\n\tcolor: #5e6c84;\n\tfont-size: 0.75rem;\n\twidth: 1.5rem;\n\ttext-align: center;\n"]))),Xm=h.b.div(Pm||(Pm=Object(j.a)(["\n\ttext-decoration: ",";\n\twidth: 100%;\n\tpadding: 0.3rem 0rem;\n\tcolor: ",";\n\tfont-size: 0.875rem;\n"])),e=>e.isChecked?"line-through":"none",e=>e.isChecked?"#5e6c84":"#172b4d"),Zm=h.b.div(Ym||(Ym=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 0.5rem;\n\twidth: 1.2rem;\n\theight: 1.2rem;\n\tborder-radius: 3px;\n\tcolor: #9f9f9f;\n\tcursor: pointer;\n\t&:hover {\n\t\tcolor: lightgray;\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t}\n"]))),$m=h.b.div(Rm||(Rm=Object(j.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-direction: column;\n\tgap: 0.5rem;\n"]))),ej=h.b.textarea(Hm||(Hm=Object(j.a)(["\n\tbox-sizing: border-box;\n\twidth: 99.8%;\n\tmin-height: 2.5rem;\n\tbackground-color: rgba(0, 0, 0, 0.03);\n\tborder: none;\n\tborder-radius: 2px;\n\tbox-shadow: none;\n\tfont-size: 0.875rem;\n\toutline: 2px solid transparent;\n\tpadding: 0.5rem 0.75rem;\n\tresize: none;\n\tcursor: pointer;\n\ttransition: 150 ease-in;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.06);\n\t}\n\t&::placeholder {\n\t\tcolor: black;\n\t}\n\t&:focus {\n\t\t&::placeholder {\n\t\t\tcolor: gray;\n\t\t}\n\t\tbackground-color: #fff;\n\t\toutline: 2px solid #0079bf;\n\t}\n"])));var tj,nj;const aj=h.b.div(tj||(tj=Object(j.a)(["\n\twidth: 100%;\n\theight: 0.5rem;\n\tbackground-color: rgba(0, 0, 0, 0.06);\n\tborder-radius: 1rem;\n"]))),rj=h.b.div(nj||(nj=Object(j.a)(["\n\theight: 0.5rem;\n\twidth: ","%;\n\tbackground-color: ",";\n\tborder-radius: 1rem;\n\ttransition: 400ms ease-in;\n"])),e=>e.value,e=>e.complete?"#61bd4f":"#5ba4cf");var ij=e=>{const{value:t}=e;return Object(k.jsx)(aj,{children:Object(k.jsx)(rj,{complete:100===t,value:t})})},cj=n(116),oj=n.n(cj);var sj,dj,lj,bj,mj,jj=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),[a,r]=Object(o.useState)(!1),[i,c]=Object(o.useState)(""),[s,d]=Object(o.useState)(!1),l=()=>{if(0===e.items.length)return 0;const t=e.items.filter(e=>e.completed);return Math.round(100-(e.items.length-t.length)/e.items.length*100)},b=async e=>{await(async(e,t,n,a,r)=>{try{r(Nd(a)),r(Pi({listId:t,cardId:e,checklistId:a})),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/delete-checklist")),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e,t)},m=async e=>{r(!1),await(async(e,t,n,a,r,i)=>{try{i(Pd({checklistId:a,_id:"notUpdated",text:r}));let c="";$d=$d.then(()=>F.a.post(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/add-checklist-item",{text:r}).then(e=>{c=e})),await $d,i(Yd({checklistId:a,checklistItemId:c.data.checklistItemId})),i(Yi({listId:t,cardId:e,checklistId:a,_id:c.data.checklistItemId,text:r}))}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e,i,t),c("")},j=e=>{const[a]=Object(o.useState)(e.completed),[r,i]=Object(o.useState)(!1),[c,s]=Object(o.useState)(e.text);return Object(k.jsxs)(Wm,{showHover:!0,children:[Object(k.jsx)(Jm,{children:Object(k.jsx)(qb,{checked:a,clickCallback:async()=>{await(async(e,t,n,a,r,i,c)=>{try{c(Rd({checklistId:a,checklistItemId:r,completed:i})),c(Ri({listId:t,cardId:e,checklistId:a,checklistItemId:r,completed:i})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/"+r+"/set-checklist-item-completed",{completed:i})),await $d}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e.checklistId,e._id,!a,t)}})}),Object(k.jsx)(Qm,{children:r?Object(k.jsxs)($m,{children:[Object(k.jsx)(ej,{value:c,onChange:e=>s(e.target.value)}),Object(k.jsx)(Oi,{title:"Guardar",clickCallback:async()=>{await(async(e,t,n,a,r,i,c)=>{try{c(Hd({checklistId:a,checklistItemId:r,text:i})),c(Ui({listId:t,cardId:e,checklistId:a,checklistItemId:r,text:i})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/"+r+"/set-checklist-item-text",{text:i})),await $d}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e.checklistId,e._id,c,t)},closeCallback:()=>{i(!1)}})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Xm,{onClick:()=>{i(!0)},isChecked:a,children:e.text}),Object(k.jsx)(Zm,{onClick:async()=>{await(async(e,t,n,a,r,i)=>{try{i(Ud({checklistId:a,checklistItemId:r})),i(Hi({listId:t,cardId:e,checklistId:a,checklistItemId:r})),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/"+r+"/delete-checklist-item")),await $d}catch(s){var c,o;i(ee({message:null!==s&&void 0!==s&&null!==(c=s.response)&&void 0!==c&&null!==(o=c.data)&&void 0!==o&&o.errMessage?s.response.data.errMessage:s.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e.checklistId,e._id,t)},children:Object(k.jsx)(oj.a,{fontSize:"1rem"})})]})})]})};return Object(k.jsxs)(qm,{children:[Object(k.jsxs)(Wm,{children:[Object(k.jsx)(Jm,{children:Object(k.jsx)(_l.a,{fontSize:"small"})}),Object(k.jsxs)(Qm,{makeColumn:!0,children:[Object(k.jsx)(Gm,{children:e.title}),Object(k.jsxs)(Vm,{children:[Object(k.jsx)(No,{clickCallback:()=>d(e=>!e),title:s?"Mostrar checke":"Ocultar checke"}),Object(k.jsx)(No,{clickCallback:()=>b(e._id),title:"Eliminar"})]})]})]}),Object(k.jsxs)(Wm,{children:[Object(k.jsx)(Jm,{children:Object(k.jsxs)(Km,{children:[l(),"%"]})}),Object(k.jsx)(Qm,{children:Object(k.jsx)(ij,{value:l()})})]}),e.items.map(t=>{if(!s||!t.completed)return Object(k.jsx)(j,Object(T.a)({checklistId:e._id},t),t._id)}),Object(k.jsxs)(Wm,{children:[Object(k.jsx)(Jm,{}),Object(k.jsx)(Qm,{children:a?Object(k.jsxs)($m,{children:[Object(k.jsx)(ej,{value:i,onChange:e=>c(e.target.value),placeholder:"Add an item"}),Object(k.jsx)(Oi,{title:"Add",clickCallback:()=>m(e._id),closeCallback:()=>r(!1)})]}):Object(k.jsx)(No,{clickCallback:()=>r(!0),title:"Add an item"})})]})]})};const hj=h.b.div(sj||(sj=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin-left: 1rem;\n\twidth: 100%;\n\tgap: 1rem;\n"]))),gj=h.b.div(dj||(dj=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\twidth: 100%;\n\tgap: 0.75rem;\n"]))),pj=h.b.h3(lj||(lj=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0.2rem 0rem 0rem 0rem;\n\tdisplay: inline;\n\tcolor: #172b4d;\n\tfont-size: 1rem;\n\tfont-weight: 800;\n"]))),uj=h.b.p(bj||(bj=Object(j.a)(["\n\tbox-sizing: border-box;\n\twidth: 89%;\n\tpadding: 0;\n\tmargin: 0;\n\tword-wrap: break-word;\n\tcursor: pointer;\n\tfont-size: 0.875rem;\n"]))),xj=h.b.textarea(mj||(mj=Object(j.a)(["\n\tbox-sizing: border-box;\n\twidth: 96.7%;\n\tmin-height: ",";\n\tbackground-color: rgba(0, 0, 0, 0.03);\n\tborder: none;\n\tborder-radius: 2px;\n\tbox-shadow: none;\n\tfont-size: 0.875rem;\n\toutline: 2px solid transparent;\n\tpadding: 0.5rem 0.75rem;\n\tresize: none;\n\tcursor: pointer;\n\ttransition: 200ms ease-in;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.06);\n\t}\n\t&::placeholder {\n\t\tcolor: black;\n\t}\n\t&:focus {\n\t\t&::placeholder {\n\t\t\tcolor: gray;\n\t\t}\n\t\ttransition: 200ms ease-in;\n\t\tbackground-color: #fff;\n\t\toutline: 2px solid #0079bf;\n\t\tmin-height: 5.5rem;\n\t}\n"])),e=>e.minHeight);var Oj,fj,vj,wj,kj,yj,Cj,Ij,Sj,zj,Dj,Mj,_j=()=>{const e=Object(A.d)(e=>e.card),t=Object(A.c)(),[n,a]=Object(o.useState)(!1),[r,i]=Object(o.useState)(e.description),c=Object(o.useRef)(),s=Object(o.useRef)();Object(o.useEffect)(()=>{i(e.description)},[e.description]),Object(o.useEffect)(()=>{n&&c.current.focus()},[n]);const d=t=>{s.current&&!s.current.contains(t.target)?(a(!1),i(e.description)):a(!0)};return Object(o.useEffect)(()=>(document.addEventListener("click",d,!0),()=>{document.removeEventListener("click",d,!0)})),Object(k.jsxs)(hj,{ref:s,children:[Object(k.jsx)(gi.a,{fontSize:"small"}),Object(k.jsxs)(gj,{children:[Object(k.jsx)(pj,{children:"Descripci\xf3n"}),r&&!n?Object(k.jsx)(uj,{onClick:()=>a(!0),children:r}):Object(k.jsx)(xj,{ref:c,minHeight:n?"5.5rem":"2.5rem",placeholder:"Add a more detailed description...",value:r,onChange:e=>i(e.target.value)}),Object(k.jsx)("div",{style:{display:n?"block":"none"},children:Object(k.jsx)(Oi,{closeCallback:()=>{a(!1),i(e.description)},clickCallback:async()=>{a(!1),await(async(e,t,n,a,r)=>{try{r(Cd(a)),r(Ti({listId:t,cardId:e,description:a})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e,{description:a})),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(e.cardId,e.listId,e.boardId,r,t)},title:"Guardar"})})]})]})},Lj=n(185),Tj=n.n(Lj),Aj=n(90),Fj=n.n(Aj);const Ej=h.b.div(Oj||(Oj=Object(j.a)(["\ndisplay:flex;\nmargin-left: 1rem;\nflex-direction: row;\nalign-items: flex-start;\njustify-content: flex-start;\ngap: 1rem;\n"]))),Bj=h.b.div(fj||(fj=Object(j.a)(["\ndisplay: flex;\nflex-direction: column;\ngap: 0.3rem;\nwidth:100%;\nheight:fit-content;\n"]))),Nj=h.b.h1(vj||(vj=Object(j.a)(["\ncolor: #172b4d;\nfont-size: 1rem;\nfont-weight: 800;\n"]))),Pj=h.b.div(wj||(wj=Object(j.a)(["\ndisplay:flex;\ngap: 1rem;\ncursor: pointer;\npadding: 1px 0px;\nposition:relative;\n&:hover{\n    background-color: #091e420a;\n}\n"]))),Yj=h.b.a(kj||(kj=Object(j.a)(["\ndisplay:flex;\nalign-items:center;\nborder-radius:3px;\njustify-content: center;\ntext-decoration: none;\nbackground-color: rgba(0,0,0,0.03);\ncolor: #42526e;\nmin-height:5rem;\nmin-width: 7rem;\n"]))),Rj=h.b.div(yj||(yj=Object(j.a)(["\ndisplay: flex;\nheight: 5rem;\nwidth:100%;\nflex-direction: column;\nalign-items:flex-start;\njustify-content:flex-start;\npadding-top:1rem;\n"]))),Hj=h.b.div(Cj||(Cj=Object(j.a)(["\ndisplay:flex;\nflex-direction:row;\ngap:0.2rem;\nalign-items:center;\n"]))),Uj=h.b.h3(Ij||(Ij=Object(j.a)(["\nmargin:0;\npadding:0;\nfont-size: 0.875rem;\nword-wrap: break-word;\nfont-weight: 700;\ncolor: #172b4d;\n"]))),qj=h.b.div(Sj||(Sj=Object(j.a)(["\ncolor: #42526e;\nfont-size: 0.75rem;\nheight:1rem;\n&:hover{\n    color: black;\n}\n"]))),Wj=h.b.div(zj||(zj=Object(j.a)(["\ndisplay:flex;\nflex-direction: row;\nwidth:100%;\ncolor:#5e6c84;\n"]))),Jj=h.b.div(Dj||(Dj=Object(j.a)(["\ndisplay: flex;\nflex-direction:row;\nwidth:100%;\nfont-size: 0.75rem;\ngap:0.5rem;\n"]))),Qj=h.b.p(Mj||(Mj=Object(j.a)(["\nmargin:0;\npadding:0;\nfont-size: 0.75rem;\ndisplay:inline;\nheight: fit-content;\ntext-decoration: underline;\nposition:relative;\nz-index : 123;\n&:hover{\n    color:black;\n}\n"])));var Gj;const Vj=h.b.div(Gj||(Gj=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: center;\n\theight: fit-content;\n\twidth: 100%;\n\tpadding-bottom: 0.5rem;\n\tgap: 0.2rem;\n"])));var Kj=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),[a,r]=Object(o.useState)(e.link),[i,c]=Object(o.useState)(e.name?e.name:e.link);return Object(k.jsxs)(Vj,{children:[Object(k.jsx)(ub,{children:"Link"}),Object(k.jsx)(pb,{placeholder:"Paste any link here...",value:a,onChange:e=>r(e.target.value)}),a&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ub,{style:{marginTop:"0.7rem"},children:"Link name (optional)"}),Object(k.jsx)(pb,{value:i,onChange:e=>c(e.target.value)})]}),Object(k.jsx)(vb,{style:{marginTop:"1rem"},onClick:async()=>{e.closeCallback(),await(async(e,t,n,a,r,i,c)=>{try{c(Vd({attachmentId:a,link:r,name:i})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/update-attachment",{link:r,name:i})),await $d}catch(d){var o,s;c(ee({message:null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errMessage?d.response.data.errMessage:d.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e._id,new RegExp(/^https?:\/\//).test(a)?a:"http://"+a,i,t)},children:"Update"})]})};var Xj,Zj,$j,eh,th,nh,ah,rh,ih,ch,oh,sh,dh=e=>{const t=Object(A.d)(e=>e.card),n=Object(A.c)(),[a,r]=Object(o.useState)(null),[i,c]=Object(o.useState)(null),[s,d]=Object(o.useState)(null),l=async e=>{await(async(e,t,n,a,r)=>{try{r(Gd(a)),r(Qi({listId:t,cardId:e,attachmentId:a})),$d=$d.then(()=>F.a.delete(Zd+"/"+n+"/"+t+"/"+e+"/"+a+"/delete-attachment")),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(t.cardId,t.listId,t.boardId,e,n)};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(Ej,{children:[Object(k.jsx)(Fj.a,{fontSize:"small"}),Object(k.jsxs)(Bj,{children:[Object(k.jsx)(Nj,{children:"Adjuntos"}),t.attachments.map(e=>Object(k.jsxs)(Pj,{onClick:()=>window.open(e.link,"_blank"),children:[Object(k.jsx)(Yj,{children:Object(k.jsx)(Fj.a,{fontSize:"large"})}),Object(k.jsxs)(Rj,{children:[Object(k.jsxs)(Hj,{children:[Object(k.jsx)(Uj,{children:e.name?e.name:e.link}),Object(k.jsx)(qj,{children:Object(k.jsx)(Tj.a,{fontSize:"inherit"})})]}),Object(k.jsx)(Wj,{children:Object(k.jsxs)(Jj,{children:["Added "+qc()(e.date).format("MMM, DD [at] HH.mm"),Object(k.jsx)(Qj,{onClick:t=>{t.stopPropagation(),l(e._id)},children:"Delete"})," - ",Object(k.jsx)(Qj,{onClick:t=>{t.stopPropagation(),c(e),r(t.currentTarget)},children:"Edit"})]})})]})]},e._id)),Object(k.jsx)(No,{style:{width:"9rem",marginTop:"0.7rem"},clickCallback:e=>d(e.currentTarget),title:"Agregar un adjunto"})]}),a&&Object(k.jsx)(So,{anchorElement:a,closeCallback:()=>{r(null)},title:"Editar",contents:Object(k.jsx)(Kj,Object(T.a)(Object(T.a)({},i),{},{closeCallback:()=>{r(null)}}))}),s&&Object(k.jsx)(So,{anchorElement:s,closeCallback:()=>{d(null)},title:"Adjuntar desde...",contents:Object(k.jsx)(rm,{closeCallback:()=>{d(null)}})})]})})};const lh=h.b.div(Xj||(Xj=Object(j.a)(["\n\tpadding-left: 3.5rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tgap: 1rem;\n\tflex-wrap: wrap;\n\t",";\n"])),g({paddingLeft:"1rem"})),bh=h.b.div(Zj||(Zj=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n"]))),mh=h.b.div($j||($j=Object(j.a)(["\n\tcolor: #5e6c84;\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]))),jh=h.b.div(eh||(eh=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tmin-height: 2rem;\n\tgap: 0.3rem;\n"]))),hh=h.b.div(th||(th=Object(j.a)(["\n\tdisplay: flex;\n\tborder-radius: 50%;\n\tbackground-color: #5e6c84;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: 600;\n\tcolor: white;\n\tfont-size: 0.85rem;\n\theight: 2rem;\n\twidth: 2rem;\n\tcursor: pointer;\n"]))),gh=Object(h.b)(hh)(nh||(nh=Object(j.a)(["\n\tbackground-color: rgba(0, 0, 0, 0.06);\n\tcolor: #172b4d;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n"]))),ph=h.b.div(ah||(ah=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 3px;\n\theight: 2rem;\n\tmin-width: 2.5rem;\n\tfont-size: 0.85rem;\n\tfont-weight: 800;\n\tpadding: 0rem 0.75rem;\n\tcolor: white;\n\twidth: auto;\n\tbackground-color: ",";\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),e=>e.color,e=>e.hoverColor),uh=Object(h.b)(ph)(rh||(rh=Object(j.a)(["\n\tbackground-color: rgba(0, 0, 0, 0.06);\n\tcolor: #42526e;\n\tmin-width: 2rem;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n"]))),xh=h.b.div(ih||(ih=Object(j.a)(["\n\tbackground-color: rgba(0, 0, 0, 0.04);\n\tmin-height: 2rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 3px;\n\tcursor: pointer;\n\tgap: 0.3rem;\n\twidth: fit-content;\n\tpadding: 0rem 0.5rem 0rem 1rem;\n\ttransition: 200ms ease-in;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t}\n\t",";\n"])),g({textAlign:"center",width:"90%"})),Oh=h.b.div(ch||(ch=Object(j.a)(["\n\tdisplay: ",";\n\tbackground-color: #61bd4f;\n\tcolor: #fff;\n\tfont-size: 0.75rem;\n\tpadding: 0rem 0.25rem;\n\tmargin-bottom: 2px;\n\tborder-radius: 2px;\n"])),e=>e.show?"block":"none"),fh=Object(h.b)(Oh)(oh||(oh=Object(j.a)(["\n\tbackground-color: #ec9488;\n"]))),vh=h.b.span(sh||(sh=Object(j.a)(["\n\tfont-size: 0.87rem;\n\tcolor: #172b4d;\n"])));var wh=e=>{const t=Object(A.d)(e=>e.card),[n,a]=s.a.useState(null);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(mh,{children:"Miembros"}),Object(k.jsxs)(jh,{children:[t.members.map((e,t)=>Object(k.jsx)(In.a,{sx:{width:32,height:32,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.name[0].toUpperCase()},t)),Object(k.jsx)(gh,{onClick:e=>a(e.currentTarget),children:"+"})]}),n&&Object(k.jsx)(So,{anchorElement:n,closeCallback:()=>{a(null)},title:"Miembros",contents:Object(k.jsx)(sb,{})})]})};var kh,yh,Ch,Ih,Sh,zh,Dh=e=>{const t=Object(A.c)(),n=Object(A.d)(e=>e.card),a=Object(o.useRef)(),[r,i]=Object(o.useState)(n.date.completed),[c,d]=s.a.useState(null),[l,b]=s.a.useState(!1),[m,j]=s.a.useState("Labels"),[h,g]=s.a.useState(null);Object(o.useEffect)(()=>{i(n.date.completed)},[n.date.completed]);const p=()=>n.labels.filter(e=>e.selected),u=e=>qc()(e).toDate().getFullYear()<(new Date).getFullYear()?qc()(e).format("MMM DD, yyyy"):qc()(e).format("MMM DD");return Object(k.jsxs)(lh,{children:[n.members.length>0&&Object(k.jsx)(bh,{children:Object(k.jsx)(wh,{})}),p().length>0&&Object(k.jsxs)(bh,{children:[Object(k.jsx)(mh,{ref:a,children:"Labels"}),Object(k.jsxs)(jh,{children:[p().map(e=>Object(k.jsx)(ph,{onClick:e=>{d(a.current)},color:e.color,hoverColor:e.backColor,children:e.text},e._id)),Object(k.jsx)(uh,{onClick:e=>d(e.currentTarget),children:"+"}),c&&Object(k.jsx)(So,{anchorElement:c,closeCallback:()=>{d(null),j("Labels"),b(!1)},title:m,backClick:()=>{j("Labels"),b(!1)},backArrow:l,contents:Object(k.jsx)(kb,{currentPage:m,titleCallback:e=>j(e),arrowCallback:e=>{b(e)}})})]})]}),(n.date.startDate||n.date.dueDate)&&Object(k.jsxs)(bh,{children:[Object(k.jsx)(mh,{children:n.date.startDate?n.date.dueDate?"Fechas":"Fecha de inicio":"Fecha de finalizaci\xf3n"}),Object(k.jsxs)(jh,{children:[Object(k.jsx)(qb,{checked:r,clickCallback:async e=>{i(e),await(async(e,t,n,a,r)=>{try{r(Wd(a)),r(Wi({listId:t,cardId:e,completed:a})),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e+"/update-date-completed",{completed:a})),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(n.cardId,n.listId,n.boardId,e,t)},hidden:!n.date.dueDate}),Object(k.jsxs)(xh,{onClick:e=>g(e.currentTarget),children:[Object(k.jsx)(vh,{children:"".concat(n.date.startDate?u(n.date.startDate):"").concat(n.date.startDate&&n.date.dueDate?" - ":"").concat(n.date.dueDate?u(n.date.dueDate):"").concat(n.date.dueTime?" at "+n.date.dueTime:"")}),qc()(n.date.dueDate).toDate().getTime()<(new Date).getTime()?Object(k.jsx)(fh,{show:!0,children:"overdue"}):Object(k.jsx)(Oh,{show:r,children:"complete"}),Object(k.jsx)(Qt.a,{style:{marginBottom:"0.2rem"},fontSize:"small"})]})]})]}),h&&Object(k.jsx)(So,{anchorElement:h,closeCallback:()=>{g(null)},title:"Fecha",contents:Object(k.jsx)(Jb,{closeCallback:()=>{g(null)}})})]})};const Mh=h.b.div(kh||(kh=Object(j.a)(["\n\tmargin: 0.5rem 0rem 0rem 1rem;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: flex-start;\n\tgap: 1rem;\n"]))),_h=h.b.div(yh||(yh=Object(j.a)(["\n\tdisplay: block;\n\tpadding-top: 2px;\n\twidth: fit-content;\n\theight: fit-content;\n"]))),Lh=h.b.input(Ch||(Ch=Object(j.a)(["\n\tborder: none;\n\toutline: 2px solid transparent;\n\tbackground-color: transparent;\n\tborder-radius: 2px;\n\toverflow: auto;\n\twidth: 90%;\n\tfont-size: 1.25rem;\n\tfont-weight: 800;\n\t&:focus {\n\t\toutline: 2px solid #0079bf;\n\t\tbackground-color: #fff;\n\t}\n"]))),Th=h.b.div(Ih||(Ih=Object(j.a)(["\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: #5e6c84;\n\tfont-size: 0.85rem;\n\tpadding-left:0.2rem;\n"]))),Ah=h.b.a(Sh||(Sh=Object(j.a)(["\n\tdisplay: inline;\n\tfont-size: inherit;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\tcolor:inherit;\n\t&:hover{\n\t\tcolor: #172b4d;\n\t}\n"]))),Fh=h.b.div(zh||(zh=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n"])));var Eh=n(186),Bh=n.n(Eh);var Nh,Ph,Yh,Rh,Hh,Uh,qh,Wh,Jh,Qh,Gh,Vh,Kh,Xh,Zh,$h,eg=()=>{const e=Object(A.c)(),t=Object(A.d)(e=>e.card),[n,a]=Object(o.useState)("");Object(o.useEffect)(()=>{a(t.title)},[t.title]);return Object(k.jsxs)(Mh,{children:[Object(k.jsx)(_h,{children:Object(k.jsx)(Bh.a,{fontSize:"small"})}),Object(k.jsxs)(Fh,{children:[Object(k.jsx)(Lh,{value:n,onChange:e=>a(e.target.value),onBlur:async()=>{await(async(e,t,n,a,r)=>{try{r(Di({listId:t,cardId:e,title:a})),r(yd(a)),$d=$d.then(()=>F.a.put(Zd+"/"+n+"/"+t+"/"+e,{title:a})),await $d}catch(o){var i,c;r(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})(t.cardId,t.listId,t.boardId,n,e)}}),Object(k.jsxs)(Th,{children:["in list ",Object(k.jsx)(Ah,{children:t.listTitle})]})]})]})};const tg=h.b.div(Nh||(Nh=Object(j.a)(["\n\toutline: none;\n\tbox-sizing: border-box;\n\tbackground-color: #f4f5f7;\n\tborder-radius: 3px;\n\twidth: 48rem;\n\tmin-height: 97vh;\n\theight: fit-content;\n\tmargin: 3rem auto 5rem auto;\n\tpadding: 0.5rem 0rem 1rem 0.25rem;\n\tposition: relative;\n\t","\n\t","\n"])),p({width:"90%"}),g({width:"98%"})),ng=h.b.div(Ph||(Ph=Object(j.a)(["\n\tdisplay: ",";\n\tmin-height: 7.25rem;\n\tbackground-color: ",";\n\tmargin: -0.5rem 0rem 0rem -0.25rem;\n\tborder-top-left-radius: 3px;\n\tborder-top-right-radius: 3px;\n\tposition: relative;\n"])),e=>e.color?"block":"none",e=>e.color),ag=h.b.div(Yh||(Yh=Object(j.a)(["\n\tposition: absolute;\n\tbottom: 0.5rem;\n\tright: 0.5rem;\n\twidth: 5.5rem;\n"]))),rg=h.b.div(Rh||(Rh=Object(j.a)(["\n\twidth: 100%;\n\tmargin-bottom: 2rem;\n"]))),ig=h.b.div(Hh||(Hh=Object(j.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\t","\n"])),g({flexDirection:"column",paddingRight:"1rem",gap:"1rem"})),cg=h.b.div(Uh||(Uh=Object(j.a)(["\n\tflex: 3;\n\tmin-height: 50vh;\n\tpadding-right: 0.5rem;\n\twidth: 100%;\n\toverflow-x: hidden;\n\tgap: 1.5rem;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),og=h.b.div(qh||(qh=Object(j.a)(["\n\twidth: 100%;\n"]))),sg=h.b.div(Wh||(Wh=Object(j.a)(["\n\twidth: 100%;\n"]))),dg=h.b.div(Jh||(Jh=Object(j.a)(["\n\twidth: 100%;\n"]))),lg=h.b.div(Qh||(Qh=Object(j.a)(["\n\twidth: 100%;\n"]))),bg=h.b.div(Gh||(Gh=Object(j.a)(["\n\twidth: 100%;\n"]))),mg=h.b.div(Vh||(Vh=Object(j.a)(["\n\tdisplay: flex;\n\tgap: 1.5rem;\n\tflex-direction: column;\n\tflex: 1;\n"]))),jg=h.b.div(Kh||(Kh=Object(j.a)([""]))),hg=h.b.div(Xh||(Xh=Object(j.a)([""]))),gg=h.b.div(Zh||(Zh=Object(j.a)(["\n\tbackground-image: url(",");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\twidth: 100%;\n\theight: 100%;\n"])),e=>e.image),pg=h.b.div($h||($h=Object(j.a)(["\n\tposition: absolute;\n\ttop: 0.4rem;\n\tright: 0.4rem;\n\tpadding: 0.3rem;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 50%;\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.065);\n\t}\n\t&:active {\n\t\tbackground-color: rgba(0, 0, 0, 0.15);\n\t}\n"])));function ug(e){const{cardId:t,listId:n,boardId:a}=e.ids,r=Object(A.c)(),i=Object(A.d)(e=>e.card);return o.useEffect(()=>{e.open&&(async(e,t,n,a)=>{a(wd(!0));try{let r="";$d=$d.then(()=>F.a.get(Zd+"/"+n+"/"+t+"/"+e).then(e=>{r=e})),await $d;const i=await JSON.parse(JSON.stringify(r.data));a(kd(i)),a(wd(!1))}catch(c){var r,i;a(wd(!1)),a(ee({message:null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.errMessage?c.response.data.errMessage:c.message,severity:"error"}))}})(t,n,a,r)},[a,t,r,n,e.open]),Object(k.jsx)("div",{style:{position:"relative"},children:Object(k.jsx)(ga.a,{open:e.open,onClose:e.callback,style:{overflow:"auto"},children:Object(k.jsxs)(tg,{children:[Object(k.jsx)(ng,{color:i.pending?null:i.cover.color,children:Object(k.jsx)(ag,{children:Object(k.jsx)(As,{title:"Cover",icon:Object(k.jsx)(Bl.a,{fontSize:"small"})})})}),Object(k.jsx)(rg,{children:!i.pending&&Object(k.jsx)(eg,{})}),Object(k.jsxs)(ig,{children:[Object(k.jsx)(cg,{children:i.pending?Object(k.jsx)(gg,{image:Gt}):Object(k.jsxs)(k.Fragment,{children:[(i.members.length>0||i.labels.filter(e=>e.selected).length>0||i.date.startDate||i.date.dueDate)&&Object(k.jsx)(og,{children:Object(k.jsx)(Dh,{})}),Object(k.jsx)(sg,{children:Object(k.jsx)(_j,{})}),i.attachments.length>0&&Object(k.jsx)(dg,{children:Object(k.jsx)(dh,{})}),i.checklists.length>0&&Object(k.jsx)(lg,{children:i.checklists.map(e=>Object(k.jsx)(jj,Object(T.a)({},e),e._id))}),Object(k.jsx)(bg,{children:Object(k.jsx)(xl,{})})]})}),Object(k.jsxs)(mg,{children:[Object(k.jsx)(jg,{children:Object(k.jsx)(Um,{})}),Object(k.jsx)(hg,{children:Object(k.jsx)(Js,{})})]})]}),Object(k.jsx)(pg,{onClick:e.callback,children:Object(k.jsx)(Br.a,{fontSize:"small",color:"black"})})]})})})}var xg,Og,fg,vg,wg,kg,yg,Cg,Ig,Sg,zg,Dg,Mg,_g,Lg,Tg,Ag=n(187),Fg=n.n(Ag),Eg=n(188),Bg=n.n(Eg),Ng=n(189),Pg=n.n(Ng),Yg=n(190),Rg=n.n(Yg);const Hg=h.b.div(xg||(xg=Object(j.a)(["\t\n\tbackground-color: #fff;\n\tbox-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);\n\tbox-sizing: border-box;\n\twidth: 14rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tjustify-content: flex-start;\n\tpadding: 0.3rem 0.3rem;\n\twidth: 98%;\n\tmargin: 0.2rem 0.2rem 0.2rem 0.2rem;\n\tborder-radius: 3px;\n\tcolor: black;\n\tgap: 0.3rem;\n\tbackground-color: ",";\n\tpadding-top: ",";\n\t&:hover {\n\t\tcursor: pointer;\n\t\tfilter: grayscale(20%) brightness(97%);\n\t}\n\tposition: relative;\n"])),e=>e.color?e.color:"#fff",e=>e.padding?"2.3rem":"0.3rem"),Ug=h.b.div(Og||(Og=Object(j.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tborder-top-left-radius: 3px;\n\tborder-top-right-radius: 3px;\n\twidth: 100%;\n\theight: 2rem;\n\tbackground-color: ",";\n"])),e=>e.color),qg=h.b.div(fg||(fg=Object(j.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 0.2rem;\n"]))),Wg=h.b.div(vg||(vg=Object(j.a)(["\n\twidth: 2.5rem;\n\theight: 0.5rem;\n\tbackground-color: ",";\n\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\tborder-radius: 2rem;\n"])),e=>e.color),Jg=h.b.div(wg||(wg=Object(j.a)(["\n\tfont-size: 0.85rem;\n\tmax-width: 100%;\n\tword-wrap: break-word;\n\twhite-space: pre-wrap;\n"]))),Qg=h.b.div(kg||(kg=Object(j.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items:center;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\twidth: 100%;\n\theight: auto;\t\n"]))),Gg=h.b.div(yg||(yg=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 0.2rem;\n\twidth: fit-content;\n\tjustify-content: center;\n\talign-items: center;\t\n"]))),Vg=h.b.div(Cg||(Cg=Object(j.a)(["\t\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: fit-content;\n\theight: fit-content;\n"]))),Kg=h.b.div(Ig||(Ig=Object(j.a)(["\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-flow: row wrap;\n\twidth: fit-content;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tcolor: #5e6c84;\n\tgap: 0.3rem;\n"]))),Xg=h.b.div(Sg||(Sg=Object(j.a)(["\n\tmargin-right: 4px;\n\tdisplay: flex;\n\talign-items: center;\n"]))),Zg=h.b.div(zg||(zg=Object(j.a)(["\n\tdisplay: flex;\n\tflex-flow: row wrap;\n\talign-items: center;\n\tpadding: 0.1rem 0.3rem;\n\tborder-radius: 3px;\n\tgap: 0.2rem;\n\tbackground-color: ",";\n\tcolor: ",";\n\tcursor: pointer;\n\tcolor: white;\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),e=>e.backColor,e=>e.color,e=>e.hoverBg),$g=h.b.div(Dg||(Dg=Object(j.a)(["\n\tfont-size: 0.75rem;\n\tcolor: ",";\n"])),e=>e.color),ep=h.b.div(Mg||(Mg=Object(j.a)(["\n\tdisplay: flex;\n\tflex-flow: row-wrap;\n\tgap: 0.2rem;\n\talign-items: center;\n"]))),tp=h.b.div(_g||(_g=Object(j.a)(["\n\tdisplay: flex;\n\tflex-flow: row-wrap;\n\tgap: 0.2rem;\n\talign-items: center;\n"]))),np=h.b.div(Lg||(Lg=Object(j.a)(["\n\tdisplay: inline-block;\n\tmargin-left: auto;\n\twidth: fit-content;\n"]))),ap=h.b.div(Tg||(Tg=Object(j.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tgap: 0.2rem;\n"])));var rp=n(57);var ip=e=>{const[t,n]=Object(o.useState)(!1),a=e.info,r=a.activities.filter(e=>e.isComment).length;let i={c:0,n:0};a.checklists.map(e=>e.items.map(e=>(e.completed?i.c+=1:i.n+=1,e)));let c=a.labels.filter(e=>e.selected);const s=()=>{n(e=>!e)},d=e=>qc()(e).toDate().getFullYear()<(new Date).getFullYear()?qc()(e).format("MMM DD, yyyy"):qc()(e).format("MMM DD");function l(e,t){return t.isDropAnimating?Object(T.a)(Object(T.a)({},e),{},{transitionDuration:"80ms"}):e}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(rp.b,{draggableId:e.info._id,index:e.index,children:(e,t)=>Object(k.jsxs)(Hg,Object(T.a)(Object(T.a)(Object(T.a)({onClick:s},e.dragHandleProps),e.draggableProps),{},{style:l(e.draggableProps.style,t),ref:e.innerRef,isDragging:t.isDragging,color:a.cover.isSizeOne?"#fff":a.cover.color,padding:a.cover.color&&a.cover.isSizeOne,children:[a.cover.isSizeOne&&Object(k.jsx)(Ug,{color:a.cover.color}),c&&Object(k.jsx)(qg,{children:c.map(e=>Object(k.jsx)(Wg,{color:e.color},e._id))}),Object(k.jsx)(Jg,{children:a.title}),Object(k.jsxs)(Qg,{children:[Object(k.jsx)(Vg,{children:Object(k.jsxs)(Kg,{children:[a.watchers.length>0&&Object(k.jsx)(Xg,{children:Object(k.jsx)(Fg.a,{fontSize:"0.5rem"})}),a.attachments.length>0&&Object(k.jsxs)(Gg,{children:[Object(k.jsx)(Fj.a,{fontSize:"small"}),Object(k.jsx)($g,{children:a.attachments.length})]}),(a.date.dueDate||a.date.startDate)&&Object(k.jsxs)(Zg,{backColor:a.date.completed?"#61bd4f":qc()(a.date.dueDate).toDate().getTime()<(new Date).getTime()?"#ec9488":"transparent",hoverBg:a.date.completed?"#81dd6f":qc()(a.date.dueDate).toDate().getTime()<(new Date).getTime()?"#eb5a46":"lightgray",color:a.date.completed||qc()(a.date.dueDate).toDate().getTime()<(new Date).getTime()?"white":"darkgray",children:[Object(k.jsx)(Bg.a,{style:{color:a.date.completed||qc()(a.date.dueDate).toDate().getTime()<(new Date).getTime()?"white":"darkgray"},fontSize:"0.5rem"}),Object(k.jsx)($g,{color:a.date.completed||qc()(a.date.dueDate).toDate().getTime()<(new Date).getTime()?"white":"darkgray",children:"".concat(a.date.startDate?d(a.date.startDate):"").concat(a.date.startDate&&a.date.dueDate?" - ":"").concat(a.date.dueDate?d(a.date.dueDate):"").concat(a.date.dueTime?" at "+a.date.dueTime:"")})]}),a.description&&Object(k.jsx)(Pg.a,{fontSize:"0.5rem"}),r>0&&Object(k.jsxs)(ep,{children:[Object(k.jsx)(Rg.a,{fontSize:"0.5rem"}),Object(k.jsx)($g,{children:r})]}),a.checklists.length>0&&Object(k.jsxs)(tp,{children:[Object(k.jsx)(_l.a,{fontSize:"0.5rem"}),Object(k.jsxs)($g,{children:[i.c,"/",i.c+i.n]})]})]})}),a.members&&Object(k.jsx)(np,{children:Object(k.jsx)(ap,{children:a.members&&a.members.map((e,t)=>Object(k.jsx)(In.a,{sx:{width:28,height:28,bgcolor:e.color,fontSize:"0.875rem",fontWeight:"800"},children:e.name[0].toUpperCase()},t))})})]})]}))}),t&&Object(k.jsx)(ug,{open:t,callback:s,ids:{cardId:e.info._id,listId:e.listId,boardId:e.boardId}})]})},cp=n(330);var op=e=>{const t=Object(A.c)(),[n,a]=Object(o.useState)(!1),[r,i]=Object(o.useState)(!1),[c,d]=Object(o.useState)(""),[l,b]=Object(o.useState)(e.info.title),[m,j]=s.a.useState(null),h=Boolean(m),g=Object(o.useRef)(),p=e=>{j(e.currentTarget)},u=()=>{j(null)},x=async()=>{d(""),await(async(e,t,n,a)=>{a(vi(!0));try{const r=await F.a.post(Bs+"/create",{title:e,listId:t,boardId:n});a(Ii({listId:t,updatedList:r.data})),a(vi(!1))}catch(c){var r,i;a(vi(!1)),a(ee({message:null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.errMessage?c.response.data.errMessage:c.message,severity:"error"}))}})(c,e.info._id,e.info.owner,t),g&&g.current&&g.current.scrollIntoView({behavior:"smooth"})},O=()=>{i(!1),d("")},f=e=>{b(e.target.value)},v=async()=>{e.info.title!==l&&await(async(e,t,n,a)=>{try{await a(Mi({listId:e,title:n})),await F.a.put(Ki+"/"+t+"/"+e+"/update-title",{title:n})}catch(c){var r,i;a(ee({message:null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(i=r.data)&&void 0!==i&&i.errMessage?c.response.data.errMessage:c.message,severity:"error"}))}})(e.info._id,e.info.owner,l,t)},w=()=>{(async(e,t,n)=>{n(vi(!0));try{await F.a.delete(Ki+"/"+t+"/"+e),await n(yi(e)),n(vi(!1))}catch(i){var a,r;n(vi(!1)),n(ee({message:null!==i&&void 0!==i&&null!==(a=i.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.errMessage?i.response.data.errMessage:i.message,severity:"error"}))}})(e.info._id,e.info.owner,t)},y=e=>{g.current&&(g.current.contains(e.target)||(i(!1),d("")))};return Object(o.useEffect)(()=>(document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y))),Object(o.useEffect)(()=>{r&&g.current.scrollIntoView()},[r]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(rp.b,{draggableId:e.info._id,index:e.index,children:(t,o)=>Object(k.jsxs)(ps,Object(T.a)(Object(T.a)({},t.draggableProps),{},{ref:t.innerRef,isDragging:o.isDragging,children:[Object(k.jsxs)(us,Object(T.a)(Object(T.a)({},t.dragHandleProps),{},{isDragging:o.isDragging,children:[Object(k.jsx)(xs,{show:n,onClick:()=>a(!0),children:l}),Object(k.jsx)(Os,{onBlur:()=>{a(!1),v()},ref:e=>e&&e.focus(),show:n,value:l,onChange:f}),Object(k.jsx)(xr,{color:"#656565","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":h?"true":void 0,onClick:p,children:Object(k.jsx)(gr.a,{fontSize:"0.1rem",onClick:()=>{}})}),Object(k.jsx)(Ut.a,{id:"basic-menu",anchorEl:m,open:h,onClose:u,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(k.jsxs)(qt.a,{onClick:w,children:[Object(k.jsx)(Sn.a,{children:Object(k.jsx)(oj.a,{fontSize:"small"})}),Object(k.jsx)(cp.a,{children:"Delete"})]})})]})),Object(k.jsx)(rp.c,{droppableId:e.info._id,direction:"vertical",children:(t,n)=>Object(k.jsx)(fs,Object(T.a)(Object(T.a)({},t.droppableProps),{},{ref:t.innerRef,isDraggingOver:n.isDraggingOver,children:Object(k.jsxs)(vs,{dock:r,children:[e.info.cards.filter(t=>{const n=!e.searchString||t.title.toLowerCase().includes(e.searchString.toLowerCase()),a=!e.memberFilter||Array.isArray(t.members)&&t.members.some(t=>{var n,a;return((null===(n=t.user)||void 0===n||null===(a=n.toString)||void 0===a?void 0:a.call(n))||t.user)===e.memberFilter});return n&&a}).map((t,n)=>Object(k.jsx)(ip,{boardId:e.boardId,listId:e.info._id,index:n,info:t},t._id)),t.placeholder,r&&Object(k.jsxs)(ys,{ref:g,children:[Object(k.jsx)(Cs,{value:c,autoFocus:!0,placeholder:"Enter a title for this card...",height:Math.floor(c.length/16)+"rem",onChange:e=>d(e.target.value)}),Object(k.jsx)(Oi,{title:"Add card",clickCallback:x,closeCallback:O})]})]})}))}),!r&&Object(k.jsxs)(ws,{onClick:()=>i(!0),children:[Object(k.jsx)(Ha.a,{fontSize:"small"}),Object(k.jsx)(ks,{children:"Add a card"})]})]}))})})};const sp="http://localhost:3001/list";let dp=Promise.resolve();var lp=e=>{const t=Object(A.c)(),{backgroundImageLink:n,isImage:a,loading:r,title:i}=Object(A.d)(e=>e.board),{allLists:c,loadingListService:s}=Object(A.d)(e=>e.list),[d,l]=Object(o.useState)(""),[b,m]=Object(o.useState)(null),j=e.match.params.id;Object(o.useEffect)(()=>{(async(e,t)=>{t(Dt(!0));try{const n=await F.a.get(Nt+"/"+e);t(Mt(n.data)),setTimeout(()=>{t(Dt(!1))},1e3)}catch(r){var n,a;t(Dt(!1)),t(ee({message:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errMessage?r.response.data.errMessage:r.message,severity:"error"}))}})(e.match.params.id,t),(async(e,t)=>{t(vi(!0));try{const n=await F.a.get(Ki+"/"+e);t(ki(n.data)),setTimeout(()=>{t(vi(!1))},300)}catch(r){var n,a;t(vi(!1)),t(ee({message:null!==r&&void 0!==r&&null!==(n=r.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.errMessage?r.response.data.errMessage:r.message,severity:"error"}))}})(j,t)},[e.match.params.id,t,j]),Object(o.useEffect)(()=>{document.title=i+" | Tablero de Trabajo"},[i]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(qn,{searchString:d,setSearchString:l,memberFilter:b,setMemberFilter:m}),Object(k.jsxs)(Wo,{isImage:a,bgImage:a?n.split("?")[0]:n,children:[Object(k.jsx)(qo,{}),(r||s)&&Object(k.jsx)(ut,{}),Object(k.jsx)(rp.a,{onDragEnd:async e=>{const{draggableId:n,source:a,destination:r}=e;if(r)if("column"!==e.type)a.droppableId===r.droppableId&&a.index===r.index||await(async(e,t)=>{let n=JSON.parse(JSON.stringify(e.allLists)),a=JSON.parse(JSON.stringify(e.allLists)),r=e.allLists.filter(t=>t._id===e.sourceId)[0].cards.filter(t=>t._id===e.cardId)[0];e.sourceId===e.destinationId?a=a.map(t=>(t._id===e.sourceId&&(t.cards.splice(e.sourceIndex,1),t.cards.splice(e.destinationIndex,0,r)),t)):(a=a.map(t=>(t._id===e.sourceId&&t.cards.splice(e.sourceIndex,1),t)),a=a.map(t=>{if(t._id===e.destinationId){let n=Array.from(t.cards);n?(n.splice(e.destinationIndex,0,r),t.cards=n):n=[r]}return t})),await t(Si(a)),dp=dp.then(()=>F.a.post(sp+"/change-card-order",{boardId:e.boardId,sourceId:e.sourceId,destinationId:e.destinationId,destinationIndex:e.destinationIndex,cardId:e.cardId}));try{await dp}catch(o){var i,c;await t(Si(n)),t(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})({sourceId:a.droppableId,destinationId:r.droppableId,sourceIndex:a.index,destinationIndex:r.index,cardId:n,boardId:j,allLists:c},t);else{if(a.index===r.index)return;await(async(e,t)=>{let n=JSON.parse(JSON.stringify(e.allLists)),a=JSON.parse(JSON.stringify(e.allLists)),r=e.allLists.filter(t=>t._id===e.listId)[0];a.splice(e.sourceIndex,1),a.splice(e.destinationIndex,0,r),await t(zi(a)),dp=dp.then(()=>F.a.post(sp+"/change-list-order",{boardId:e.boardId,sourceIndex:e.sourceIndex,destinationIndex:e.destinationIndex,listId:e.listId}));try{await dp}catch(o){var i,c;await t(Si(n)),t(ee({message:null!==o&&void 0!==o&&null!==(i=o.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.errMessage?o.response.data.errMessage:o.message,severity:"error"}))}})({sourceIndex:a.index,destinationIndex:r.index,listId:n,boardId:j,allLists:c},t)}},children:Object(k.jsx)(rp.c,{droppableId:"all-columns",direction:"horizontal",type:"column",children:(e,t)=>Object(k.jsxs)(Jo,Object(T.a)(Object(T.a)({},e.droppableProps),{},{ref:e.innerRef,children:[!r&&(Array.isArray(c)?c.filter(Boolean):[]).map((e,t)=>Object(k.jsx)(op,{searchString:d,memberFilter:b,index:t,info:e,boardId:j},e._id||"list-".concat(t))),e.placeholder,Object(k.jsx)(gs,{boardId:j})]}))})})]})]})},bp=n(323),mp=n(321);const jp=o.forwardRef(function(e,t){return Object(k.jsx)(mp.a,Object(T.a)({elevation:6,ref:t,variant:"filled"},e))});var hp=()=>{const e=Object(A.c)(),{open:t,message:n,severity:a,duration:r,nextRoute:i}=Object(A.d)(e=>e.alert),c=Object(m.g)(),o=(t,n)=>{if("clickaway"!==n){e(te());try{c.push(i)}catch(a){}}};return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(bp.a,{open:t,autoHideDuration:r,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(k.jsx)(jp,{onClose:o,severity:a,sx:{width:"100%"},children:n})})})},gp=n(44);const pp=["component"];var up=e=>{let{component:t}=e,n=Object(gp.a)(e,pp);const{user:a}=Object(A.d)(e=>e.user);return Object(k.jsx)(m.b,Object(T.a)(Object(T.a)({},n),{},{render:e=>a?Object(k.jsx)(t,Object(T.a)({},e)):Object(k.jsx)(m.a,{to:"/login"})}))};const xp=["component"];var Op=e=>{let{component:t}=e,n=Object(gp.a)(e,xp);const{user:a}=Object(A.d)(e=>e.user);return Object(k.jsx)(m.b,Object(T.a)(Object(T.a)({},n),{},{render:e=>a?Object(k.jsx)(m.a,{to:"/boards"}):Object(k.jsx)(t,Object(T.a)({},e))}))};var fp=Object(E.a)({reducer:{user:X,alert:ne,boards:St,board:Bt,list:Vi,card:Xd}});var vp=()=>(Object(o.useEffect)(()=>{const e=localStorage.getItem("token");e&&ae(e),(async e=>{e(q());const t=localStorage.getItem("token");if(t){ae(t);try{const t=await F.a.get("".concat(re,"get-user"));e(W({user:t.data}))}catch(n){e(J())}}else e(J())})(fp.dispatch)},[]),Object(k.jsxs)(b.a,{children:[Object(k.jsx)(hp,{}),Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.b,{exact:!0,path:"/",render:()=>Object(k.jsx)(m.a,{to:"/boards"})}),Object(k.jsx)(up,{exact:!0,path:"/boards",component:nr}),Object(k.jsx)(up,{exact:!0,path:"/board/:id",component:lp}),Object(k.jsx)(Op,{exact:!0,path:"/login",component:et}),Object(k.jsx)(Op,{exact:!0,path:"/register",component:ht}),Object(k.jsx)(m.b,{path:"*",render:()=>Object(k.jsx)(m.a,{to:"/"})})]})]}));n(250),n(251),n(252),n(253),n(254);l.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(A.a,{store:fp,children:Object(k.jsx)(vp,{})})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.3a67cf60.chunk.js.map